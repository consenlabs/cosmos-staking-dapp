(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),i=a(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(25),s=a(46),u=a(17),d=a(47),m="UPDATE_ACCOUNT",p="UPDATE_VALIDATORS",f="UPDATE_DELEGATIONS",v="UPDATE_POOL",g="UPDATE_VALIDATOR_REWARDS",h="UPDATE_ATOM_PRICE",b={account:{},validators:[],delegations:[],pool:{not_bonded_tokens:0,bonded_tokens:0},validatorRewards:{},price:{}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,function(e){switch(t.type){case m:var a=t.payload.account;return void(a&&"object"===typeof a&&(e.account=Object(u.a)({},e.account,t.payload.account)));case p:return void(e.validators=t.payload.validators);case f:return void(e.delegations=t.payload.delegations);case v:return void(e.pool=t.payload.pool);case g:return void(e.validatorRewards=t.payload.validatorRewards);case h:return void(e.price=t.payload.price);default:return e}})}var y=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}};var O=a(2),k=a(3),j=a(5),_=a(4),w=a(6),A=a(36),N=a(1),C={available_balance:"\u53ef\u7528\u4f59\u989d",rewards:"\u6536\u76ca",delegations:"\u59d4\u6258",delegate:"\u59d4\u6258",delegated:"\u5df2\u59d4\u6258",undelegate:"\u8d4e\u56de",undelegating:"\u8d4e\u56de\u4e2d",withdraw:"\u8d4e\u56de\u6536\u76ca",redelegate:"\u91cd\u65b0\u59d4\u6258",my_delegations:"\u6211\u7684\u59d4\u6258",validators:"\u9a8c\u8bc1\u8282\u70b9",yield:"\u9884\u8ba1\u5e74\u5316\u6536\u76ca",rewards_per_day:"\u9884\u8ba1\u6536\u76ca(\u5929)",accessing_account:"\u83b7\u53d6\u8d26\u53f7\u4e2d...",commission_rate:"\u624b\u7eed\u8d39",total_delegations:"\u603b\u59d4\u6258",validator_delegations:"\u9a8c\u8bc1\u8005\u59d4\u6258",failed_to_send:"\u53d1\u9001\u5931\u8d25",sent_successfully:"\u53d1\u9001\u6210\u529f",input_amount:"\u8f93\u5165\u91d1\u989d",proposal_vote:"\u63d0\u6848\u6295\u7968",coming_soon:"\u5373\u5c06\u4e0a\u7ebf",faq:"\u5e38\u89c1\u95ee\u9898",tutorial:"\u4f7f\u7528\u6559\u7a0b",invalid_number:"\u91d1\u989d\u4e0d\u5408\u6cd5",number_must_be_positive:"\u8bf7\u8f93\u5165\u5927\u4e8e 0 \u7684\u91d1\u989d",decimal_length_must_lt_six:"\u5c0f\u6570\u4f4d\u4e0d\u80fd\u8d85\u8fc7 6 \u4f4d",gas_not_enough:"\u77ff\u5de5\u8d39\u4e0d\u591f",more_than_available:"\u8d85\u51fa\u53ef\u7528\u6570\u91cf",please_open_in_imtoken:"\u8bf7\u5728 imToken \u4e2d\u6253\u5f00"},M={available_balance:"Available",rewards:"Rewards",delegations:"Delegations",delegate:"Delegate",delegated:"Delegated",undelegate:"Undelegate",undelegating:"Undelegating",withdraw:"Withdraw Rewards",redelegate:"Redelegate",my_delegations:"My Delegations",validators:"Validators",yield:"Yield",rewards_per_day:"Rewards (Est. per day)",accessing_account:"Accessing Account...",commission_rate:"Commission Rate",total_delegations:"Total Delegations",validator_delegations:"Validator Delegations",failed_to_send:"Failed",sent_successfully:"Successfully",input_amount:"Input Amount",proposal_vote:"Proposal Vote",coming_soon:"Coming Soon",faq:"FAQ",tutorial:"Tutorial",invalid_number:"Invalid number",number_must_be_positive:"The number must be greater than 0",decimal_length_must_lt_six:"Decimal length must less than 6",gas_not_enough:"Gas not enough",more_than_available:"The number is greater than available asset",please_open_in_imtoken:"Please open in imToken"},D=a(50),I=a.n(D),B=a(51),x=a.n(B),R=a(19),T=a.n(R),P=a(52),S=a.n(P),V=a(53),F={dev:{denom:"muon",chainAPI:"https://api.dev.tokenlon.im/v1/cosmos",market:"https://dexapi.dev.tokenlon.im/rpc"},prod:{denom:"uatom",chainAPI:"https://api.tokenlon.im/v1/cosmos",market:"https://mainnet-dexapi.token.im/rpc"}},q=function(){var e=-1!==window.location.host.indexOf(".dev.");return F[e?"dev":"prod"]},U="5000",z=function(){return{transfer:{amount:[{amount:U,denom:q().denom}],gas:"200012"},retainFee:.01}},L={send:"cosmos-sdk/MsgSend",delegate:"cosmos-sdk/MsgDelegate",undelegate:"cosmos-sdk/MsgUndelegate",withdraw:"cosmos-sdk/MsgWithdrawDelegationReward",redelegate:"cosmos-sdk/MsgBeginRedelegate"},X=a.n(V).a;function J(e,t,a){return{from:e,chainType:"COSMOS",fee:z().transfer,msg:t,memo:a}}function Y(e,t,a,n){return{type:L.delegate,value:{delegator_address:e,validator_address:t,amount:{amount:a,denom:n}}}}function Q(e,t,a,n){return{type:L.undelegate,value:{delegator_address:e,validator_address:t,amount:{amount:a,denom:n}}}}T.a.DP=20,T.a.RM=0;var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return e&&e.length>t+a+8?"".concat(e.substring(0,t),"...").concat(e.substring(e.length-a,e.length)):e},K=function(e){return isNaN(Number(e))?new T.a(0):e instanceof T.a?e:new T.a(e)},Z=function(e){return new T.a(e,10).times(1e6).toFixed()},H=function(e){return new T.a(e).div(1e6).toFixed()},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return isNaN(Number(e))?"~":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=K(e),n=a.toFixed();if(a.eq(a.toFixed(0,1)))return $(n,0);if(a.lt(1))for(var r=2;r<n.length;r++)if("0"!==n[r]){var o=r-2+4;return o=o>10?10:o,$(n,Math.max(o,t))}return $(n,t)}(H(e),t)},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a="0".repeat(t);return S()(e).format("0,0.[".concat(a,"]"))},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return isNaN(Number(e))?"~":"".concat((100*e).toFixed(t),"%")},te=function(e){return"undefined"!==typeof e},ae=function(e){var t=e;return t&&t.coins&&Array.isArray(t.coins)&&t.coins.find(function(e){return"uatom"===e.denom||"muon"===e.denom}).amount||0},ne=function(e){var t=0;return e.forEach(function(e){t+=1*e.shares}),t.toFixed(0)},re=function(e){var t=0;return e.forEach(function(e){t+=1*e.amount}),t.toFixed(0)},oe=function(e){var t=0;return e.forEach(function(e){Array.isArray(e.entries)&&e.entries.forEach(function(e){t+=1*e.balance})}),t.toFixed(0)},ce=function(){return(navigator.language||"").toLowerCase().split(/[^\w+]/gi)[0]||"zh"};Object(N.c)([].concat(Object(A.a)(I.a),Object(A.a)(x.a)));var ie=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.children,t=ce(),a=function(e){switch(e){case"en":return M;case"zh":default:return C}}(t);return r.a.createElement(N.b,{key:t,locale:t,messages:a},e)}}]),t}(n.Component);var le=Object(i.b)(function(e){return{}})(ie),se=a(9),ue=a(20),de=function(e){return e.account},me=function(e){return e.validators},pe=function(e){return e.delegations},fe=function(e){return e.pool},ve=function(e){return e.validatorRewards},ge=function(e){return e.price},he=(a(87),a(88),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.index;return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(se.b,{className:0===e?"selected":"",to:"/"},r.a.createElement(N.a,{id:"my_delegations"})),r.a.createElement(se.b,{className:1===e?"selected":"",to:"/validators"},r.a.createElement(N.a,{id:"validators"}))))}}]),t}(n.Component)),be=(a(94),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.account,a=e.price,n=void 0===a?{}:a,o=t.address,c=t.balance,i=t.rewardBalance,l=t.refundingBalance,s=t.delegateBalance,u=n.price||0,d="CNY"===n.currency?"\xa5":"$",m=K(c||0).plus(i||0).plus(l||0).plus(s||0).toFixed();return r.a.createElement("div",{className:"account-card"},r.a.createElement("div",{className:"account-top"},r.a.createElement("div",{className:"account-top-address"},r.a.createElement("strong",null,"Cosmos Wallet"),o?r.a.createElement("span",null,W(o)):r.a.createElement(N.a,{id:"accessing_account"})),r.a.createElement("div",{className:"account-top-amount"},r.a.createElement("strong",null,te(c)?"".concat(G(m)," ATOM"):"~"),r.a.createElement("span",null,d," ",te(c)?G(K(m).times(u).toFixed()):"~"))),r.a.createElement("div",{className:"account-bottom"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(N.a,{id:"available_balance"}),r.a.createElement("i",null,G(c))),r.a.createElement("div",null,r.a.createElement(N.a,{id:"delegations"}),r.a.createElement("i",null,G(s)))),r.a.createElement("div",{className:"split-line"}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(N.a,{id:"rewards"}),r.a.createElement("i",null,G(i))),r.a.createElement("div",null,r.a.createElement(N.a,{id:"undelegating"}),r.a.createElement("i",null,G(l))))))}}]),t}(n.Component)),Ee=Object(i.b)(function(e){return{account:de(e),price:ge(e)}},{})(Object(N.d)(be)),ye=(a(95),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.url;return r.a.createElement("div",{className:"logo ".concat(e?"":"default")},r.a.createElement("img",{alt:"logo",src:e||"https://aws-v2-cdn.token.im/cosmos/atom.png",title:"logo"}))}}]),t}(n.Component)),Oe=(a(96),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderItem",value:function(e,t,a){if(!t)return null;var n=this.props.validatorRewards[t.operator_address]||0;return r.a.createElement(se.b,{className:"dl-card",key:a,to:"/validator/".concat(t.operator_address)},r.a.createElement("div",{className:"top"},r.a.createElement(ye,{url:t.description.logo}),r.a.createElement("strong",null,t.description.moniker),r.a.createElement("div",null,r.a.createElement("i",null,ee(t.annualized_returns,2)||"~"),r.a.createElement(N.a,{id:"yield"}))),r.a.createElement("div",{className:"split-line"}),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",null,r.a.createElement(N.a,{id:"delegations"}),r.a.createElement("i",null,G(e.shares))),r.a.createElement("div",null,r.a.createElement(N.a,{id:"rewards"}),r.a.createElement("i",null,G(n))),r.a.createElement("div",null,r.a.createElement(N.a,{id:"rewards_per_day"}),r.a.createElement("i",null,e.shares&&t.annualized_returns?"+".concat(G(e.shares*t.annualized_returns/365,3)):"~"))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.delegations,n=t.validators;return a&&a.length?r.a.createElement("div",{className:"delegations"},!!a&&a.map(function(t,a){var r=n.find(function(e){return e.operator_address===t.validator_address});return e.renderItem(t,r,a)})):null}}]),t}(n.Component)),ke=Object(i.b)(function(e){return{validators:me(e),delegations:pe(e),validatorRewards:ve(e)}},{})(Oe),je=(a(97),[{name:"hash",operator_address:"cosmosvaloper1cgh5ksjwy2sd407lyre4l3uj2fdrqhpkzp06e6",imgs:{zh_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-big.png",zh_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-small.png",en_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-big.png",en_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-small.png"}},{name:"SparkPool",operator_address:"cosmosvaloper1rwh0cxa72d3yle3r4l8gd7vyphrmjy2kpe4x72",imgs:{zh_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-big.png",zh_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-small.png",en_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-big.png",en_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-small.png"}}]),_e=null,we=null;var Ae=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(j.a)(this,Object(_.a)(t).call(this,e))).state=function(e){var t=ce();console.log(e);var a=Date.now()%2;_e=_e||je[a],we=we||je[Math.abs(a-1)];var n="big"===e?_e:we;return console.log(n,_e,we),console.log(t,e),{url:n.imgs["".concat(t,"_").concat(e)],address:n.operator_address}}(e.size),console.log(a.state),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.address,a=e.url;return r.a.createElement(se.b,{className:"banner",to:"/validator/".concat(t)},r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:"staking"})))}}]),t}(n.Component),Ne=(a(98),function(){return r.a.createElement("div",{className:"water-mark"})}),Ce=function(){return window.mixpanel||{track_links:function(){return console.warn("track_links")},track:function(){return console.warn("track")}}},Me=a(55),De=a.n(Me),Ie=a(56),Be=a.n(Ie),xe=a(57),Re=a.n(xe),Te=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).renderDivider=function(){return r.a.createElement("div",{className:"divier"},r.a.createElement("div",{className:"line"}),r.a.createElement("img",{src:De.a}),r.a.createElement("div",{className:"line"}))},a.renderBlocks=function(){var e="en"===a.props.intl.locale?"en-us":"zh-cn",t="https://support.token.im/hc/".concat(e,"/articles/360021933754"),n="https://support.token.im/hc/".concat(e,"/sections/360004052613");return r.a.createElement("div",{className:"blocks"},r.a.createElement("a",{className:"block-item",style:{marginRight:7},href:t},r.a.createElement("img",{src:Be.a}),r.a.createElement(N.a,{id:"faq"})),r.a.createElement("a",{className:"block-item",style:{marginLeft:7},href:n},r.a.createElement("img",{src:Re.a}),r.a.createElement(N.a,{id:"tutorial"})))},a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){Ce().track("to_home")}},{key:"render",value:function(){return r.a.createElement("div",{className:"home",id:"home"},r.a.createElement(Ne,null),r.a.createElement(he,{index:0}),r.a.createElement(Ee,null),r.a.createElement(ke,null),this.renderDivider(),r.a.createElement(Ae,{size:"big"}),this.renderBlocks())}}]),t}(n.Component),Pe=Object(ue.e)(Object(i.b)(function(e){return{}},{})(Object(N.d)(Te))),Se=(a(99),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.pool,a=e.validator,n=t.bonded_tokens,o=H(a.tokens)/H(n);return r.a.createElement(se.b,{className:"validator",to:"/validator/".concat(a.operator_address)},r.a.createElement(ye,{url:a.description.logo}),r.a.createElement("div",{className:"v-left"},r.a.createElement("strong",null,a.description.moniker),r.a.createElement("span",null,"".concat(G(a.tokens)," ATOM")," (",ee(o,2),")")),r.a.createElement("div",{className:"v-right"},r.a.createElement("strong",null,ee(a.annualized_returns,2)),r.a.createElement(N.a,{id:"yield"})))}}]),t}(n.Component)),Ve=Object(i.b)(function(e){return{}},{})(Se),Fe=(a(100),function(){return r.a.createElement("div",{className:"loading-wrap"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),qe=(a(101),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.validators,a=e.pool;return t&&t.length?r.a.createElement("div",{className:"validator-list"},t.map(function(e){return r.a.createElement(Ve,{validator:e,key:e.operator_address,pool:a})})):r.a.createElement(Fe,null)}}]),t}(n.Component)),Ue=Object(ue.e)(Object(i.b)(function(e){return{validators:me(e),pool:fe(e)}})(qe)),ze=(a(102),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){Ce().track("to_validators_list")}},{key:"render",value:function(){return r.a.createElement("div",{className:"validators"},r.a.createElement(Ne,null),r.a.createElement(he,{index:1}),r.a.createElement(Ae,{size:"small"}),r.a.createElement(Ue,null))}}]),t}(n.Component)),Le=Object(ue.e)(Object(i.b)(function(e){return{}})(ze)),Xe=(a(103),function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={txs:[]},a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.account,a=e.match.params.id;if(Ce().track("to_validator_detail",{validator:a}),!a||!t.address)return!1}},{key:"render",value:function(){var e=this.props,t=e.validators,a=e.delegations,n=e.validatorRewards,o=e.match,c=this.state.txs,i=o.params.id,l=t.find(function(e){return e.operator_address===i});if(!l)return r.a.createElement(Fe,null);var s=a.find(function(e){return e.validator_address===l.operator_address}),u=n[l.operator_address]||0;return console.log(s,u,c),r.a.createElement("div",{className:"validator-detail-page"},r.a.createElement("section",null,r.a.createElement("a",{className:"top",href:l.description.website||"#"},r.a.createElement(ye,{url:l.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,l.description.moniker,r.a.createElement("img",{src:"data:image/png;base64,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"})),r.a.createElement("span",null,W(l.operator_address)))),r.a.createElement("div",{className:"desc"},l.description.details||"no description")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(N.a,{id:"total_delegations"}),r.a.createElement("i",null,G(l.tokens)," ATOM")),r.a.createElement("li",null,r.a.createElement(N.a,{id:"commission_rate"}),r.a.createElement("i",null,ee(l.commission.rate,1))),r.a.createElement("li",null,r.a.createElement(N.a,{id:"yield"}),r.a.createElement("i",{className:"emphasize"},ee(l.annualized_returns,2)))),r.a.createElement("div",{className:"toolbar",style:{bottom:!("undefined"===typeof window||!window)&&/iphone/gi.test(window.navigator.userAgent)&&window.screen.height>=812?40:0}},r.a.createElement(se.b,{to:"/undelegate/".concat(l.operator_address)},r.a.createElement(N.a,{id:"undelegate"})),r.a.createElement(se.b,{to:"/delegate/".concat(l.operator_address)},r.a.createElement(N.a,{id:"delegate"}))))}}]),t}(n.Component)),Je=Object(ue.e)(Object(i.b)(function(e){return{validators:me(e),delegations:pe(e),account:de(e),validatorRewards:ve(e)}})(Xe)),Ye=a(28);a(104);window.imToken=window.imToken||{callPromisifyAPI:function(e,t){switch(e){case"cosmos.getAccounts":if(-1!==window.location.search.indexOf("address")){var a=new window.URLSearchParams(window.location.search.slice(1)).get("address");return Promise.resolve([a])}return Promise.resolve([]);case"cosmos.getProvider":return Promise.resolve("https://cosmosapi-mainnet.tokenlon.im");case"private.getHeaders":return Promise.resolve('{"Authorization":"Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkZXZpY2VUb2tlbiI6IkVBQjZBRTJELThFNEYtNEFDMS1CODM4LTA5MkQwMzE2NjlGQSIsImp0aSI6ImltMTR4NUxZck11Q1lxaXdTRzVBeFhaOXlGRDlIdml2VmJKdDVMRiJ9.rkJ2jziqRKwHvUKX2xkrkA2CDppGegElgVuZ2syHf5Y","X-IDENTIFIER":"im14x5LYrMuCYqiwSG5AxXZ9yFD9HvivVbJt5LF","X-CLIENT-VERSION":"ios:2.3.1.515:14","X-DEVICE-TOKEN":"EAB6AE2D-8E4F-4AC1-B838-092D031669FA","X-LOCALE":"en-US","X-CURRENCY":"CNY","X-DEVICE-LOCALE":"en","X-APP-ID":"im.token.app","X-API-KEY":"3bdc0a49ba634a8e8f3333f8e66e0b84","Content-Type":"application/json"}');default:return Promise.reject(new Error("\u5f53\u524d\u4e0d\u662f imToken \u73af\u5883"))}}};var Qe=window.imToken;function We(e){return Qe.callPromisifyAPI("cosmos.sendTransaction",e)}var Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=Number(e);if(isNaN(r))return[!1,n.formatMessage({id:"invalid_number"})];if(r<=0)return[!1,n.formatMessage({id:"number_must_be_positive"})];var o=K(r),c=H(e).split(".")[1];return c&&c.length>6?[!1,n.formatMessage({id:"decimal_length_must_lt_six"})]:o.gt(t)?[!1,n.formatMessage({id:"more_than_available"})]:o.plus(a).gt(t)?[!1,n.formatMessage({id:"gas_not_enough"})]:[!0,null]},Ze=a(58),He=new(a.n(Ze).a),Ge=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={amount:""},a.onSubmit=function(){var e=a.props,t=e.account,n=e.validator,r=e.history,o=e.intl,c=t.balance,i=t.address,l=a.state.amount,s=Ke(Z(l),c,U,o),u=Object(Ye.a)(s,2),d=u[0],m=u[1];if(!d)return X.error(m);Ce().track("submit_delegate"),We(J(i,[Y(i,n.operator_address,Z(l),q().denom)],"delegate from imToken")).then(function(e){X.success(e,{heading:o.formatMessage({id:"sent_successfully"})}),Ce().track("submit_delegate",{result:"successful"}),console.log(e),r.goBack(),He.emit("updateAsyncData")}).catch(function(e){Ce().track("submit_delegate",{result:"failed",message:e.message}),X.error(e.message,{heading:o.formatMessage({id:"failed_to_send"})})})},a.onChange=function(e){a.setState({amount:e.target.value})},a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"afterOpenModal",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.account,a=e.intl,n=t.balance,o=this.state.amount,c=te(n)?G(n):0,i=!o;return r.a.createElement("div",{className:"form-inner"},r.a.createElement("div",{className:"form-header"},r.a.createElement(N.a,{id:"available_balance"}),r.a.createElement("i",null,c," ATOM")),r.a.createElement("input",{type:"number",placeholder:a.formatMessage({id:"input_amount"}),value:o,onChange:this.onChange,max:c,min:1e-6}),r.a.createElement("button",{disabled:i,className:"form-button",onClick:this.onSubmit},r.a.createElement(N.a,{id:"delegate"})))}}]),t}(n.Component),$e=Object(N.d)(Ge),et=(a(105),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this.props,t=e.validators,a=e.account,n=e.match,o=e.history,c=n.params.id,i=t.find(function(e){return e.operator_address===c});return console.log(i,n),i?r.a.createElement("div",{className:"delegate-page"},r.a.createElement("div",{className:"validator-detail"},r.a.createElement("section",null,r.a.createElement("div",{className:"top"},r.a.createElement(ye,{url:i.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,i.description.moniker),r.a.createElement("span",null,W(i.operator_address)))))),r.a.createElement($e,{account:a,validator:i,history:o})):r.a.createElement(Fe,null)}}]),t}(n.Component)),tt=Object(ue.e)(Object(i.b)(function(e){return{validators:me(e),account:de(e)}})(et)),at=(a(106),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(j.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(){var e=a.props,t=e.account,n=e.delegation,r=void 0===n?{}:n,o=e.history,c=e.intl,i=r.shares||0,l=t.address,s=a.state.amount,u=Ke(Z(s),i,U,c),d=Object(Ye.a)(u,2),m=d[0],p=d[1];if(!m)return X.error(p);Ce().track("submit_undelegate"),We(J(l,[Q(l,r.validator_address,Z(s),q().denom)],"undelegate from imToken")).then(function(e){X.success(e,{heading:c.formatMessage({id:"sent_successfully"})}),Ce().track("submit_undelegate",{result:"successful"}),console.log(e),o.goBack(),He.emit("updateAsyncData")}).catch(function(e){Ce().track("submit_undelegate",{result:"failed",message:e.message}),X.error(e.message,{heading:c.formatMessage({id:"failed_to_send"})})})},a.onChange=function(e){a.setState({amount:e.target.value})},a.state={amount:""},a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.delegation,a=void 0===t?{}:t,n=e.intl,o=a.shares,c=this.state.amount,i=te(o)?G(o):0,l=!c;return r.a.createElement("div",{className:"form-inner"},r.a.createElement("div",{className:"form-header"},r.a.createElement(N.a,{id:"delegated"}),r.a.createElement("i",null,i," ATOM")),r.a.createElement("input",{type:"number",placeholder:n.formatMessage({id:"input_amount"}),value:c,onChange:this.onChange,max:i,min:1e-6}),r.a.createElement("button",{disabled:l,className:"form-button",onClick:this.onSubmit},r.a.createElement(N.a,{id:"undelegate"})))}}]),t}(n.Component)),nt=Object(N.d)(at),rt=(a(107),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.validators,a=e.account,n=e.delegations,o=e.match,c=e.history,i=o.params.id,l=t.find(function(e){return e.operator_address===i});if(!l)return r.a.createElement(Fe,null);var s=n.find(function(e){return e.validator_address===l.operator_address});return console.log(l,o),r.a.createElement("div",{className:"delegate-page"},r.a.createElement("div",{className:"validator-detail"},r.a.createElement("section",null,r.a.createElement("div",{className:"top"},r.a.createElement(ye,{url:l.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,l.description.moniker),r.a.createElement("span",null,W(l.operator_address)))))),r.a.createElement(nt,{account:a,delegation:s,validator:l,history:c}))}}]),t}(n.Component)),ot=Object(ue.e)(Object(i.b)(function(e){return{validators:me(e),delegations:pe(e),account:de(e)}})(rt)),ct=(a(108),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"vote-page"},r.a.createElement(Ne,null),r.a.createElement("div",{className:"cs-img"},r.a.createElement("div",{className:"coming-soon"},r.a.createElement(N.a,{id:"proposal_vote"}),r.a.createElement(N.a,{id:"coming_soon"}))),r.a.createElement("div",{className:"bottom"}))}}]),t}(n.Component)),it=Object(ue.e)(Object(i.b)(function(e){return{}})(ct)),lt=(a(109),a(22)),st=a.n(lt),ut=a(59),dt=a(29),mt=a(35),pt=a.n(mt),ft=null,vt=function(e){return console.warn(e)};function gt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(dt.a)(st.a.mark(function e(){return st.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ft,e.t0){e.next=5;break}return e.next=4,Qe.callPromisifyAPI("cosmos.getProvider");case 4:e.t0=e.sent;case 5:return e.t1=e.t0,e.abrupt("return",{provider:e.t1});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gt().then(function(a){var n=a.provider,r="".concat(n,"/").concat(e);return pt()({method:"get",url:r,params:t}).then(function(a){if(a.data)return a.data;throw new Error("null response ".concat(e," ").concat(JSON.stringify(t)))}).catch(vt)})}function Et(e,t,a){return gt().then(function(n){Object(ut.a)(n);var r={jsonrpc:"2.0",id:1,method:t,params:a};return pt()({method:"post",url:e,data:r}).then(function(t){if(t.data)return t.data.result;throw new Error("null response ".concat(e," ").concat(JSON.stringify(a)))})})}function yt(e,t){return 1*e.tokens>1*t.tokens?-1:1}var Ot=function(e){return bt("staking/delegators/".concat(e,"/delegations"),{}).then(function(e){return e||[]})},kt=function(e){return bt("distribution/delegators/".concat(e,"/rewards"),{}).then(function(e){return e||[]})},jt=function(e){return bt("staking/delegators/".concat(e,"/unbonding_delegations"),{}).then(function(e){return e||[]})},_t=function(){return bt("staking/pool",{}).then(function(e){return e||{}})},wt=function(e,t){return bt("distribution/delegators/".concat(e,"/rewards/").concat(t),{}).then(function(e){return re(e=e||[])})};function At(){return(At=Object(dt.a)(st.a.mark(function e(){var t;return st.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q().chainAPI,e.abrupt("return",Et(t,"wallet.getValidators",[]).then(function(e){return(e||[]).map(function(e){return Object(u.a)({},e,{tokens:e.Tokens||e.tokens})})}).then(function(e){return e.sort(yt)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(){return(Nt=Object(dt.a)(st.a.mark(function e(){var t,a,n;return st.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q().market,a="zh"===ce()?"CNY":"USDT",n=[{chainType:"COSMOS",address:"uatom",currency:a}],e.abrupt("return",Et(t,"market.getPrice",n).then(function(e){return e||{}}).catch(vt));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ct=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).updateAsyncData=function(){var e=a.props,t=e.updateAccount,n=e.updateDelegations,r=e.updateValidators,o=e.updatePool,c=e.updateValidatorRewards,i=e.updateAtomPrice;Qe.callPromisifyAPI("cosmos.getAccounts").catch(function(e){return console.warn(e)}).then(function(e){var a=e[0];if(!a)return!1;t({address:a}),kt(a).then(re).then(function(e){t({rewardBalance:e})}),jt(a).then(oe).then(function(e){t({refundingBalance:e})}),function(e){var t={coins:[],sequence:"0",account_number:"0"};return bt("auth/accounts/".concat(e),{}).then(function(e){if(!e)throw new Error("no response");var a=e.value||t;if("auth/DelayedVestingAccount"===e.type){if(!a.BaseVestingAccount)return t;delete(a=Object.assign({},a.BaseVestingAccount.BaseAccount,a.BaseVestingAccount)).BaseAccount,delete a.BaseVestingAccount}return a}).catch(function(e){if(e.message.includes("account bytes are empty")||e.message.includes("failed to prove merkle proof"))return t;console.warn(e)})}(a).then(function(e){var a=ae(e);t(Object(u.a)({},e,{balance:a}))}),Ot(a).then(function(e){var r=ne(e);n(e),t({delegateBalance:r});var o={},i=e.map(function(e){return wt(a,e.validator_address).then(function(t){o[e.validator_address]=t,console.log(o)})});Promise.all(i).then(function(){c(o)})})}),_t().then(function(e){console.log(e),o(e)}),function(){return At.apply(this,arguments)}().then(r).catch(function(e){return console.warn(e)}),function(){return Nt.apply(this,arguments)}().then(i)},a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.intl;window.imToken.callAPI||setTimeout(function(){X.warn(e.formatMessage({id:"please_open_in_imtoken"}),{hideAfter:5,position:"top-center"})},6e3)}},{key:"componentWillMount",value:function(){var e=this;this.updateAsyncData(),He.on("updateAsyncData",function(){He.off("updateAsyncData"),e.updateAsyncData(),setInterval(e.updateAsyncData,1e4)})}},{key:"componentWillUnmount",value:function(){He.off("updateAsyncData")}},{key:"render",value:function(){return r.a.createElement(se.a,{basename:"/cosmos"},r.a.createElement(ue.c,null,r.a.createElement(ue.a,{exact:!0,path:"/",component:Pe}),r.a.createElement(ue.a,{exact:!0,path:"/validators",component:Le}),r.a.createElement(ue.a,{path:"/validator/:id",component:Je}),r.a.createElement(ue.a,{path:"/delegate/:id",component:tt}),r.a.createElement(ue.a,{path:"/undelegate/:id",component:ot}),r.a.createElement(ue.a,{path:"/vote",component:it})))}}]),t}(n.Component),Mt={updateAccount:function(e){return{type:m,payload:{account:e}}},updateDelegations:function(e){return{type:f,payload:{delegations:e}}},updateValidators:function(e){return{type:p,payload:{validators:e}}},updatePool:function(e){return{type:v,payload:{pool:e}}},updateValidatorRewards:function(e){return{type:g,payload:{validatorRewards:e}}},updateAtomPrice:function(e){return{type:h,payload:{price:e}}}},Dt=Object(i.b)(function(e){return{validators:me(e)}},Mt)(Object(N.d)(Ct)),It=(a(130),function(e){var t=[y,s.a],a=l.a.apply(void 0,t);return Object(l.c)(E,e,a)}(void 0));c.a.render(r.a.createElement(i.a,{store:It},r.a.createElement(le,null,r.a.createElement(Dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t){},55:function(e,t,a){e.exports=a.p+"static/media/cosmos.b8b0a545.svg"},56:function(e,t,a){e.exports=a.p+"static/media/faq.f4c90403.svg"},57:function(e,t,a){e.exports=a.p+"static/media/turtorial.9f45c1c4.svg"},60:function(e,t,a){e.exports=a(131)},76:function(e,t){},82:function(e,t){},87:function(e,t,a){},88:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.2924b824.chunk.js.map