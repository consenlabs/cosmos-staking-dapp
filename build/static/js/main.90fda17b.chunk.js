(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),i=n(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(25),s=n(46),u=n(17),d=n(47),m="UPDATE_ACCOUNT",p="UPDATE_VALIDATORS",v="UPDATE_DELEGATIONS",f="UPDATE_POOL",g="UPDATE_VALIDATOR_REWARDS",h="UPDATE_ATOM_PRICE",b={account:{},validators:[],delegations:[],pool:{not_bonded_tokens:0,bonded_tokens:0},validatorRewards:{},price:{}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,function(e){switch(t.type){case m:var n=t.payload.account;return void(n&&"object"===typeof n&&(e.account=Object(u.a)({},e.account,t.payload.account)));case p:return void(e.validators=t.payload.validators);case v:return void(e.delegations=t.payload.delegations);case f:return void(e.pool=t.payload.pool);case g:return void(e.validatorRewards=t.payload.validatorRewards);case h:return void(e.price=t.payload.price);default:return e}})}var y=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}};var O=n(2),k=n(3),j=n(5),_=n(4),A=n(6),w=n(36),N=n(1),C={available_asset:"\u53ef\u7528\u4f59\u989d",earnings:"\u6536\u76ca",delegation:"\u59d4\u6258",unstaking:"\u8d4e\u56de\u4e2d",my_delegation:"\u6211\u7684\u59d4\u6258",delegated:"\u5df2\u59d4\u6258",validators:"\u9a8c\u8bc1\u8282\u70b9",annualized_earnings:"\u9884\u8ba1\u5e74\u5316\u6536\u76ca",anticipated_earnings:"\u9884\u8ba1\u6536\u76ca(\u5929)",unstake:"\u8d4e\u56de",delegate:"\u59d4\u6258",accessing_account:"\u83b7\u53d6\u8d26\u53f7\u4e2d...",commission:"\u4f63\u91d1",total_delegation:"\u603b\u59d4\u6258",validator_delegation:"\u9a8c\u8bc1\u8005\u59d4\u6258",staked:"\u5df2\u59d4\u6258",failed_to_send:"\u53d1\u9001\u5931\u8d25",sent_successfully:"\u53d1\u9001\u6210\u529f",without_delegation_couldnt_unstake:"\ud83e\udd2a \u4f60\u5728\u6b64\u9a8c\u8bc1\u8005\u4e0b\u6ca1\u6709\u62b5\u62bc\uff0c\u65e0\u6cd5\u8d4e\u56de",cancel_delegate:"\u8d4e\u56de",input_amount:"\u8f93\u5165\u91d1\u989d",proposal_vote:"\u63d0\u6848\u6295\u7968",coming_soon:"\u5373\u5c06\u4e0a\u7ebf",faq:"\u5e38\u89c1\u95ee\u9898",tutorial:"\u4f7f\u7528\u6559\u7a0b",invalid_number:"\u91d1\u989d\u4e0d\u5408\u6cd5",number_must_be_positive:"\u8bf7\u8f93\u5165\u5927\u4e8e 0 \u7684\u91d1\u989d",gas_not_enough:"\u77ff\u5de5\u8d39\u4e0d\u591f",more_than_available:"\u8d85\u51fa\u53ef\u7528\u6570\u91cf"},D={available_asset:"Available Asset",earnings:"Earnings",delegation:"Delegation",unstaking:"Unstaking",my_delegation:"My Delegation",delegated:"Delegated",validators:"Validators",annualized_earnings:"Annualized Returns",anticipated_earnings:"Anticipated Returns(day)",unstake:"Unstake",delegate:"Delegate",accessing_account:"Accessing Account...",commission:"Commission Rate",total_delegation:"Total Delegation",validator_delegation:"Validator Delegation",staked:"Staked",failed_to_send:"Failed",sent_successfully:"Successfully",without_delegation_couldnt_unstake:"\ud83e\udd2a You don't have any delegation in the validator, couldn't unstake",cancel_delegate:"Cancel Delegate",input_amount:"Input Amount",proposal_vote:"Proposal Vote",coming_soon:"Coming Soon",faq:"FAQ",tutorial:"Tutorial",invalid_number:"Invalid number",number_must_be_positive:"The number must be greater than 0",gas_not_enough:"Gas not enough",more_than_available:"The number is greater than available asset"},M=n(50),I=n.n(M),B=n(51),T=n.n(B),P=n(23),R=n.n(P),S=n(52),x=n.n(S),V=n(53),z={dev:{denom:"muon",chainAPI:"https://api.dev.tokenlon.im/v1/cosmos",market:"https://dexapi.dev.tokenlon.im/rpc"},prod:{denom:"uatom",chainAPI:"https://api.tokenlon.im/v1/cosmos",market:"https://mainnet-dexapi.token.im/rpc"}},q=function(){var e=-1!==window.location.host.indexOf(".dev.");return z[e?"dev":"prod"]},F=function(){return{transfer:{amount:[{amount:"5000",denom:q().denom}],gas:"200012"},retainFee:.01}},U=n.n(V).a;function X(e,t,n){return{from:e,chainType:"COSMOS",fee:F().transfer,msg:t,memo:n}}function L(e,t,n,a){return{type:"cosmos-sdk/MsgDelegate",value:{delegator_address:e,validator_address:t,amount:{amount:n,denom:a}}}}function J(e,t,n,a){return{type:"cosmos-sdk/MsgUndelegate",value:{delegator_address:e,validator_address:t,amount:{amount:n,denom:a}}}}R.a.DP=20,R.a.RM=0;var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e&&e.length>t?"".concat(e.substring(0,t/2),"...").concat(e.substring(e.length-t/2,e.length)):e},Q=function(e){return new R.a(e)},K=function(e){return new R.a(e,10).times(1e6).toString()},Z=function(e){return new R.a(e).div(1e6).toString()},H=function(e){return x()(e).format("0,0.[0000]")},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return isNaN(Number(e))?"~":"".concat((100*e).toFixed(t),"%")},G=function(e){return"undefined"!==typeof e},$=function(e){var t=e;return t&&t.coins&&Array.isArray(t.coins)&&t.coins.find(function(e){return"uatom"===e.denom||"muon"===e.denom}).amount||0},ee=function(e){var t=0;return e.forEach(function(e){t+=1*e.shares}),t.toFixed(0)},te=function(e){var t=0;return e.forEach(function(e){t+=1*e.amount}),t.toFixed(0)},ne=function(e){var t=0;return e.forEach(function(e){Array.isArray(e.entries)&&e.entries.forEach(function(e){t+=1*e.balance})}),t.toFixed(0)},ae=function(){return(navigator.language||"").toLowerCase().split(/[^\w+]/gi)[0]||"zh"};Object(N.c)([].concat(Object(w.a)(I.a),Object(w.a)(T.a)));var re=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.children,t=ae(),n=function(e){switch(e){case"en":return D;case"zh":default:return C}}(t);return r.a.createElement(N.b,{key:t,locale:t,messages:n},e)}}]),t}(a.Component);var oe=Object(i.b)(function(e){return{}})(re),ce=n(9),ie=n(19),le=function(e){return e.account},se=function(e){return e.validators},ue=function(e){return e.delegations},de=function(e){return e.pool},me=function(e){return e.validatorRewards},pe=function(e){return e.price},ve=(n(87),n(88),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.index;return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(ce.b,{className:0===e?"selected":"",to:"/"},r.a.createElement(N.a,{id:"my_delegation"})),r.a.createElement(ce.b,{className:1===e?"selected":"",to:"/validators"},r.a.createElement(N.a,{id:"validators"}))))}}]),t}(a.Component)),fe=(n(94),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.price,a=void 0===n?{}:n,o=t.address,c=t.balance,i=t.rewardBalance,l=t.refundingBalance,s=t.delegateBalance,u=a.price||0,d="CNY"===a.currency?"\xa5":"$";return r.a.createElement("div",{className:"account-card"},r.a.createElement("div",{className:"account-top"},r.a.createElement("div",{className:"account-top-address"},r.a.createElement("strong",null,"Cosmos Wallet"),o?r.a.createElement("span",null,Y(o,16)):r.a.createElement(N.a,{id:"accessing_account"})),r.a.createElement("div",{className:"account-top-amount"},r.a.createElement("strong",null,G(c)?"".concat(H(Z(c))," ATOM"):"~"),r.a.createElement("span",null,d," ",G(c)?H(Q(Z(c)).times(u).toString()):"~"))),r.a.createElement("div",{className:"account-bottom"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(N.a,{id:"available_asset"}),r.a.createElement("i",null,G(c)?H(Z(c)):"~")),r.a.createElement("div",null,r.a.createElement(N.a,{id:"earnings"}),r.a.createElement("i",null,G(i)?H(Z(i)):"~"))),r.a.createElement("div",{className:"split-line"}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(N.a,{id:"delegation"}),r.a.createElement("i",null,G(s)?H(Z(s)):"~")),r.a.createElement("div",null,r.a.createElement(N.a,{id:"unstaking"}),r.a.createElement("i",null,G(l)?H(Z(l)):"~")))))}}]),t}(a.Component)),ge=Object(i.b)(function(e){return{account:le(e),price:pe(e)}},{})(Object(N.d)(fe)),he=(n(95),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.url;return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"logo",src:e||"https://aws-v2-cdn.token.im/cosmos/atom.png",title:"logo"}))}}]),t}(a.Component)),be=(n(96),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderItem",value:function(e,t,n){if(!t)return null;var a=this.props.validatorRewards[t.operator_address]||0;return r.a.createElement(ce.b,{className:"dl-card",key:n,to:"/validator/".concat(t.operator_address)},r.a.createElement("div",{className:"top"},r.a.createElement(he,{url:t.description.logo}),r.a.createElement("strong",null,t.description.moniker),r.a.createElement("div",null,r.a.createElement("i",null,W(t.annualized_returns,3)||"~"),r.a.createElement(N.a,{id:"annualized_earnings"}))),r.a.createElement("div",{className:"split-line"}),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",null,r.a.createElement(N.a,{id:"delegated"}),r.a.createElement("i",null,H(Z(e.shares)))),r.a.createElement("div",null,r.a.createElement(N.a,{id:"earnings"}),r.a.createElement("i",null,a?H(Z(a)):"~")),r.a.createElement("div",null,r.a.createElement(N.a,{id:"anticipated_earnings"}),r.a.createElement("i",null,e.shares&&t.annualized_returns?"+".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e&&0!==Number(e)?Q(e).toFixed(t,1):"0"}(Z(e.shares*t.annualized_returns/365))):"~"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.delegations,a=t.validators;return n&&n.length?r.a.createElement("div",{className:"delegations"},!!n&&n.map(function(t,n){var r=a.find(function(e){return e.operator_address===t.validator_address});return e.renderItem(t,r,n)})):null}}]),t}(a.Component)),Ee=Object(i.b)(function(e){return{validators:se(e),delegations:ue(e),validatorRewards:me(e)}},{})(be),ye=(n(97),[{name:"hash",operator_address:"cosmosvaloper1cgh5ksjwy2sd407lyre4l3uj2fdrqhpkzp06e6",imgs:{zh_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-big.png",zh_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-small.png",en_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-big.png",en_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-small.png"}},{name:"SparkPool",operator_address:"cosmosvaloper1rwh0cxa72d3yle3r4l8gd7vyphrmjy2kpe4x72",imgs:{zh_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-big.png",zh_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-small.png",en_big:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-big.png",en_small:"https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-small.png"}}]),Oe=null,ke=null;var je=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(_.a)(t).call(this,e))).state=function(e){var t=ae();console.log(e);var n=Date.now()%2;Oe=Oe||ye[n],ke=ke||ye[Math.abs(n-1)];var a="big"===e?Oe:ke;return console.log(a,Oe,ke),console.log(t,e),{url:a.imgs["".concat(t,"_").concat(e)],address:a.operator_address}}(e.size),console.log(n.state),n}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.address,n=e.url;return r.a.createElement(ce.b,{className:"banner",to:"/validator/".concat(t)},r.a.createElement("div",null,r.a.createElement("img",{src:n,alt:"staking"})))}}]),t}(a.Component),_e=(n(98),function(){return r.a.createElement("div",{className:"water-mark"})}),Ae=function(){return window.mixpanel||{track_links:function(){return console.warn("track_links")},track:function(){return console.warn("track")}}},we=n(55),Ne=n.n(we),Ce=n(56),De=n.n(Ce),Me=n(57),Ie=n.n(Me),Be=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).renderDivider=function(){return r.a.createElement("div",{className:"divier"},r.a.createElement("div",{className:"line"}),r.a.createElement("img",{src:Ne.a}),r.a.createElement("div",{className:"line"}))},n.renderBlocks=function(){var e="en"===n.props.intl.locale?"en-us":"zh-cn",t="https://support.token.im/hc/".concat(e,"/articles/360021933754"),a="https://support.token.im/hc/".concat(e,"/sections/360004052613");return r.a.createElement("div",{className:"blocks"},r.a.createElement("a",{className:"block-item",style:{marginRight:7},href:t},r.a.createElement("img",{src:De.a}),r.a.createElement(N.a,{id:"faq"})),r.a.createElement("a",{className:"block-item",style:{marginLeft:7},href:a},r.a.createElement("img",{src:Ie.a}),r.a.createElement(N.a,{id:"tutorial"})))},n}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){Ae().track("to_home"),window.imToken.callAPI||setTimeout(function(){U.warn("\u8bf7\u7528 imToken \u6253\u5f00",{hideAfter:10})},0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"home",id:"home"},r.a.createElement(_e,null),r.a.createElement(ve,{index:0}),r.a.createElement(ge,null),r.a.createElement(Ee,null),this.renderDivider(),r.a.createElement(je,{size:"big"}),this.renderBlocks())}}]),t}(a.Component),Te=Object(ie.e)(Object(i.b)(function(e){return{}},{})(Object(N.d)(Be))),Pe=(n(99),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.pool,n=e.validator,a=Z(n.tokens),o=t.bonded_tokens,c=a/Z(o);return r.a.createElement(ce.b,{className:"validator",to:"/validator/".concat(n.operator_address)},r.a.createElement(he,{url:n.description.logo}),r.a.createElement("div",{className:"v-left"},r.a.createElement("strong",null,n.description.moniker),r.a.createElement("span",null,"".concat(H(a)," ATOM")," (",W(c,3),")")),r.a.createElement("div",{className:"v-right"},r.a.createElement("strong",null,W(n.annualized_returns,3)),r.a.createElement(N.a,{id:"annualized_earnings"})))}}]),t}(a.Component)),Re=Object(i.b)(function(e){return{}},{})(Pe),Se=(n(100),function(){return r.a.createElement("div",{className:"loading-wrap"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),xe=(n(101),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.validators,n=e.pool;return t&&t.length?r.a.createElement("div",{className:"validator-list"},t.map(function(e){return r.a.createElement(Re,{validator:e,key:e.operator_address,pool:n})})):r.a.createElement(Se,null)}}]),t}(a.Component)),Ve=Object(ie.e)(Object(i.b)(function(e){return{validators:se(e),pool:de(e)}})(xe)),ze=(n(102),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){Ae().track("to_validators_list")}},{key:"render",value:function(){return r.a.createElement("div",{className:"validators"},r.a.createElement(_e,null),r.a.createElement(ve,{index:1}),r.a.createElement(je,{size:"small"}),r.a.createElement(Ve,null))}}]),t}(a.Component)),qe=Object(ie.e)(Object(i.b)(function(e){return{}})(ze)),Fe=(n(103),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;Ae().track("to_validator_detail",{validator:e})}},{key:"render",value:function(){var e=this.props,t=e.validators,n=e.match.params.id,a=t.find(function(e){return e.operator_address===n});return a?r.a.createElement("div",{className:"validator-detail"},r.a.createElement("section",null,r.a.createElement("a",{className:"top",href:a.description.website||"#"},r.a.createElement(he,{url:a.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,a.description.moniker,r.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAAAXNSR0IArs4c6QAABqNJREFUWAm1WH1sVEUQn9l3XKEUxS8+1DTYBBIKQSJBoyFgFYlI0l4pd21RSBEkRtozMWj8x3DBj6BgsHetWIjQSKAtVyhtJSiBlGgMMZoShArEQoSqLahV+kWvvdt19ui7273etddeff/szOzM7O/tzse+h/A/Pjn5JXP8AZ4lOMwHhAdpqRQEaCO6BQSeTLGK4wcOODtiQSDdsX+y7SXPBYBvAyEeG8o7IvQBsjKrEO96vc4/I3XHFNzGjWXJbe2+fQDCEbnQkDxih8HE2pqq12tVPUNlEqHtdvcDHb3+0+Tj2VH4SRICc2enL++69PPxM6b9mOyc3X7I6oPWUyBgkek4NCL8jgLqgeFFAdCFQkyneFtMcZchhBgX0hsgEFlerbeoSrJjAs5md3/MhXhDXQgRbyGIt8bB9M+9XkdAnZO0LW/XDBHo2yEE5KhzFIe3rWCZ5/Vuak4YXM7qT9P8/f5L6i4g4G8CLUvrvK9dVheORtscnnc451v1OfTWVTsdCYPLcrj3CC42mM5lBhrMePJIVWGjKRtuzHIU76Vys07VMwxLOlMFI6Up1gzaMZtmJ6B0JMCkrVVM3Ey79K/qh3P/yoTABVjbQkqC+1WnaGCpysdDe70b2oHBQU1X4AuJgeOYpjkEuHq0ynklQhYXyxBOqIoCIc2iCkZKy7JA5SH0UIZeCzEDRHau+1HORR6ViKaaqsIDpKOahNQRjBaAcFJTpk9JCByguEnHGn4QL4QZgEy7ewUBO0LlgjoUB2prsr9+pOqEadQaAtnwhI51/px5FcigksqlDxC/swr2gbmYBEZvHwRmymi9ZSYdOQY410KEylFbQjvncmX4aZH8yIWiAQvqIDRE6oZ5sSJMS0pcHhZc9ppdU/htvzRMB+R0LBgQBuysq3Se1Z3d4WIBo1irssK0bdFs7PayVB/47OqcQFYfswhTS3qcwul9eoNn6Py146dC2y4mpcyo27u+U3U4DLAXo7Uxl0uwxibPMbpePa/48qPFMjhbCwr2jf+nu3MX9coCRVkjCey9Rne3jJFz5sRogMkLQ+MF927yoQKjKx7srq3c1KIda37+nqnt3R31lIELzUWjjbRzFy182kVzbjTAbHmep/sCrTvIxwLTT3BE+CvZSN4q6RC4oiJ30vXWHnnZGwwMoZuyh65Eggosa8aJKQe95Y4+6SBeYEE9AU8JEA9RZi/mfv6ItFcfist+MGBlRcUrN6Q8BO5am3AT/4SmDNCJwN4bB1M9FC+31TlJxwuMGvtmuhxsD5VEiovBD/YQuLVHK4u+NeeC4Aaq+AbVhBRbLBa2/HBFYZOprI7xAgvacMymxFLNdRqx2cJYbuSFIZiFnINLy0g6RioZK8YEGMGgjvWDjmaAQ7jOEIum3ZOUHglMalgyX/58kujoXq4ZC7a9trrovCYbYEa0YwM2kyfe9TZVgHbagLl0977BBLYwA09GA6SuaWFdPcs4iCRTKIOSAr7Y5NUx2+5eQrpaS5LzZCMLbKiO0R2PROEGX16+rpfUghmo+huOZsD5LF1JnDlavk67+JnzBGwrvb3V5OUYCSxzlWdLlt3Tlbmq+EpWXomWYKpdPDTjiPKmoDx4VWE0kkLapwoigWXnls4G4C4K/mTSSwN/IOoJqD6GomVC6FcVEOFLVYSlwfBN2qpmAtVPda9UPUqpGgjwuaoJHe4UlR8pbaEM/yPCKDWCD7E1Vc5zxMyU3w7e6sGfewxEKg9pB4lI3/rsMBxlsn6MdBNYJH8rDGUXrYFLfTr2Zaod+YoZIqpeLJqxCfg1AQwdJQX8hJvtvetjGcSSB+MNI39F4LFY+vHIWc0XhX9TzzytKgvALfKOpcqGol2uBgvngVIqIUr8Yo/8xTWU3XBzwQ4hmKHVIGrO9/lEb/3Kl8qmD+dAAjvbdH4PActQdelIPxnq35uqG4sOgqs7VPgNXYNqIpTmBXy+H22O4pi/s2z20vmNTT81ELACzRaxLSUJPtRko2DoBe88toJ9k0V35/e00CxTpoxXqXR8SR8szXTkfXQZfJgLWEoZQEWWvjC1B30Gsowab2HoV5Y2PQJGc5yz+rOZ/n7fCUqKGSPwEVZF7CWHa2q9zuqwcPRU8FhN88MHX/0l2TJ+IWVvgymLe6T/cORsyVgBk+tqO2cCoaPFLHvJKmpF9IEDM015tJFe5Bbt9I67J0zeuX//Wrpqjd0TFZzq3mYvXkBxlkmydIox2Yet9Eqt1MZ+pXf7KnUqP+XxOLWeq9onQv8HS+W1DI0SGI8AAAAASUVORK5CYII="})),r.a.createElement("span",null,Y(a.operator_address,24)))),r.a.createElement("div",{className:"desc"},a.description.details||"no description")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(N.a,{id:"total_delegation"}),r.a.createElement("i",null,H(Z(a.tokens))," ATOM")),r.a.createElement("li",null,r.a.createElement(N.a,{id:"validator_delegation"}),r.a.createElement("i",null,H(Z(a.delegator_shares))," ATOM")),r.a.createElement("li",null,r.a.createElement(N.a,{id:"commission"}),r.a.createElement("i",null,W(a.commission.rate,1))),r.a.createElement("li",null,r.a.createElement(N.a,{id:"annualized_earnings"}),r.a.createElement("i",null,W(a.annualized_returns,3)))),r.a.createElement("div",{className:"toolbar",style:{bottom:!("undefined"===typeof window||!window)&&/iphone/gi.test(window.navigator.userAgent)&&window.screen.height>=812?40:0}},r.a.createElement(ce.b,{to:"/undelegate/".concat(a.operator_address)},r.a.createElement(N.a,{id:"unstake"})),r.a.createElement(ce.b,{to:"/delegate/".concat(a.operator_address)},r.a.createElement(N.a,{id:"delegate"})))):r.a.createElement(Se,null)}}]),t}(a.Component)),Ue=Object(ie.e)(Object(i.b)(function(e){return{validators:se(e)}})(Fe)),Xe=n(28);n(104);window.imToken=window.imToken||{callPromisifyAPI:function(e,t){switch(e){case"cosmos.getAccounts":return Promise.resolve([]);case"cosmos.getProvider":return Promise.resolve("https://cosmosapi-mainnet.tokenlon.im");case"private.getHeaders":return Promise.resolve('{"Authorization":"Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkZXZpY2VUb2tlbiI6IkVBQjZBRTJELThFNEYtNEFDMS1CODM4LTA5MkQwMzE2NjlGQSIsImp0aSI6ImltMTR4NUxZck11Q1lxaXdTRzVBeFhaOXlGRDlIdml2VmJKdDVMRiJ9.rkJ2jziqRKwHvUKX2xkrkA2CDppGegElgVuZ2syHf5Y","X-IDENTIFIER":"im14x5LYrMuCYqiwSG5AxXZ9yFD9HvivVbJt5LF","X-CLIENT-VERSION":"ios:2.3.1.515:14","X-DEVICE-TOKEN":"EAB6AE2D-8E4F-4AC1-B838-092D031669FA","X-LOCALE":"en-US","X-CURRENCY":"CNY","X-DEVICE-LOCALE":"en","X-APP-ID":"im.token.app","X-API-KEY":"3bdc0a49ba634a8e8f3333f8e66e0b84","Content-Type":"application/json"}');default:return Promise.reject(new Error("\u5f53\u524d\u4e0d\u662f imToken \u73af\u5883"))}}};var Le=window.imToken;function Je(e){return Le.callPromisifyAPI("cosmos.sendTransaction",e)}var Ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,r=Number(e);if(isNaN(r))return[!1,a.formatMessage({id:"invalid_number"})];if(r<=0)return[!1,a.formatMessage({id:"number_must_be_positive"})];var o=Q(r);return o.plus(n).gt(t)?o.lt(t)?[!1,a.formatMessage({id:"gas_not_enough"})]:[!1,a.formatMessage({id:"more_than_available"})]:[!0,null]},Qe=n(58),Ke=new(n.n(Qe).a),Ze=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={amount:""},n.onSubmit=function(){var e=n.props,t=e.account,a=e.validator,r=e.history,o=e.intl,c=t.balance,i=t.address,l=n.state.amount,s=Ye(l,Z(c),F().retainFee,o),u=Object(Xe.a)(s,2),d=u[0],m=u[1];if(!d)return U.error(m);Ae().track("submit_delegate"),Je(X(i,[L(i,a.operator_address,K(l),q().denom)],"delegate from imToken")).then(function(e){U.success(e,{heading:o.formatMessage({id:"sent_successfully"})}),Ae().track("submit_delegate",{result:"successful"}),console.log(e),r.goBack(),Ke.emit("updateAsyncData")}).catch(function(e){Ae().track("submit_delegate",{result:"failed",message:e.message}),U.error(e.message,{heading:o.formatMessage({id:"failed_to_send"})})})},n.onChange=function(e){n.setState({amount:e.target.value})},n}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"afterOpenModal",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.intl,a=t.balance,o=this.state.amount,c=G(a)?H(Z(a)):0,i=!o;return r.a.createElement("div",{className:"form-inner"},r.a.createElement("div",{className:"form-header"},r.a.createElement(N.a,{id:"available_asset"}),r.a.createElement("i",null,c," ATOM")),r.a.createElement("input",{type:"number",placeholder:n.formatMessage({id:"input_amount"}),value:o,onChange:this.onChange,max:c,min:1e-6}),r.a.createElement("button",{disabled:i,className:"form-button",onClick:this.onSubmit},r.a.createElement(N.a,{id:"delegate"})))}}]),t}(a.Component),He=Object(N.d)(Ze),We=(n(105),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this.props,t=e.validators,n=e.account,a=e.match,o=e.history,c=a.params.id,i=t.find(function(e){return e.operator_address===c});return console.log(i,a),i?r.a.createElement("div",{className:"delegate-page"},r.a.createElement("div",{className:"validator-detail"},r.a.createElement("section",null,r.a.createElement("div",{className:"top"},r.a.createElement(he,{url:i.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,i.description.moniker),r.a.createElement("span",null,Y(i.operator_address,24)))))),r.a.createElement(He,{account:n,validator:i,history:o})):r.a.createElement(Se,null)}}]),t}(a.Component)),Ge=Object(ie.e)(Object(i.b)(function(e){return{validators:se(e),account:le(e)}})(We)),$e=(n(106),function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(){var e=n.props,t=e.account,a=e.delegation,r=void 0===a?{}:a,o=e.history,c=e.intl,i=r.shares||0,l=t.address,s=n.state.amount,u=Ye(s,Z(i),0,c),d=Object(Xe.a)(u,2),m=d[0],p=d[1];if(!m)return U.error(p);Ae().track("submit_undelegate"),Je(X(l,[J(l,r.validator_address,K(s),q().denom)],"undelegate from imToken")).then(function(e){U.success(e,{heading:c.formatMessage({id:"sent_successfully"})}),Ae().track("submit_undelegate",{result:"successful"}),console.log(e),o.goBack(),Ke.emit("updateAsyncData")}).catch(function(e){Ae().track("submit_undelegate",{result:"failed",message:e.message}),U.error(e.message,{heading:c.formatMessage({id:"failed_to_send"})})})},n.onChange=function(e){n.setState({amount:e.target.value})},n.state={amount:""},n}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderEmpty",value:function(){return r.a.createElement("div",{className:"form-inner"},r.a.createElement("div",{className:"form-empty"},r.a.createElement(N.a,{id:"without_delegation_couldnt_unstake"})))}},{key:"render",value:function(){var e=this.props,t=e.delegation,n=void 0===t?{}:t,a=e.intl,o=n.shares,c=this.state.amount,i=G(o)?H(Z(o)):0,l=!c;return r.a.createElement("div",{className:"form-inner"},r.a.createElement("div",{className:"form-header"},r.a.createElement(N.a,{id:"staked"}),r.a.createElement("i",null,i," ATOM")),r.a.createElement("input",{type:"number",placeholder:a.formatMessage({id:"input_amount"}),value:c,onChange:this.onChange,max:i,min:1e-6}),r.a.createElement("button",{disabled:l,className:"form-button",onClick:this.onSubmit},r.a.createElement(N.a,{id:"cancel_delegate"})))}}]),t}(a.Component)),et=Object(N.d)($e),tt=(n(107),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.validators,n=e.account,a=e.delegations,o=e.match,c=e.history,i=o.params.id,l=t.find(function(e){return e.operator_address===i});if(!l)return r.a.createElement(Se,null);var s=a.find(function(e){return e.validator_address===l.operator_address});return console.log(l,o),r.a.createElement("div",{className:"delegate-page"},r.a.createElement("div",{className:"validator-detail"},r.a.createElement("section",null,r.a.createElement("div",{className:"top"},r.a.createElement(he,{url:l.description.logo}),r.a.createElement("div",{className:"left"},r.a.createElement("strong",null,l.description.moniker),r.a.createElement("span",null,Y(l.operator_address,24)))))),r.a.createElement(et,{account:n,delegation:s,validator:l,history:c}))}}]),t}(a.Component)),nt=Object(ie.e)(Object(i.b)(function(e){return{validators:se(e),delegations:ue(e),account:le(e)}})(tt)),at=(n(108),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"vote-page"},r.a.createElement(_e,null),r.a.createElement("div",{className:"cs-img"},r.a.createElement("div",{className:"coming-soon"},r.a.createElement(N.a,{id:"proposal_vote"}),r.a.createElement(N.a,{id:"coming_soon"}))),r.a.createElement("div",{className:"bottom"}))}}]),t}(a.Component)),rt=Object(ie.e)(Object(i.b)(function(e){return{}})(at)),ot=(n(109),n(21)),ct=n.n(ot),it=n(59),lt=n(29),st=n(35),ut=n.n(st),dt=null,mt=function(e){return console.warn(e)};function pt(){return vt.apply(this,arguments)}function vt(){return(vt=Object(lt.a)(ct.a.mark(function e(){return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dt,e.t0){e.next=5;break}return e.next=4,Le.callPromisifyAPI("cosmos.getProvider");case 4:e.t0=e.sent;case 5:return e.t1=e.t0,e.abrupt("return",{provider:e.t1});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pt().then(function(n){var a=n.provider,r="".concat(a,"/").concat(e);return ut()({method:"get",url:r,params:t}).then(function(n){if(n.data)return n.data;throw new Error("null response ".concat(e," ").concat(JSON.stringify(t)))}).catch(mt)})}function gt(e,t,n){return pt().then(function(a){Object(it.a)(a);var r={jsonrpc:"2.0",id:1,method:t,params:n};return ut()({method:"post",url:e,data:r}).then(function(t){if(t.data)return t.data.result;throw new Error("null response ".concat(e," ").concat(JSON.stringify(n)))})})}function ht(e,t){return 1*e.tokens>1*t.tokens?-1:1}var bt=function(e){return ft("staking/delegators/".concat(e,"/delegations"),{}).then(function(e){return e||[]})},Et=function(e){return ft("distribution/delegators/".concat(e,"/rewards"),{}).then(function(e){return e||[]})},yt=function(e){return ft("staking/delegators/".concat(e,"/unbonding_delegations"),{}).then(function(e){return e||[]})},Ot=function(){return ft("staking/pool",{}).then(function(e){return e||{}})},kt=function(e,t){return ft("distribution/delegators/".concat(e,"/rewards/").concat(t),{}).then(function(e){return te(e=e||[])})};function jt(){return(jt=Object(lt.a)(ct.a.mark(function e(){var t;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q().chainAPI,e.abrupt("return",gt(t,"wallet.getValidators",[]).then(function(e){return(e||[]).map(function(e){return Object(u.a)({},e,{tokens:e.Tokens||e.tokens})})}).then(function(e){return e.sort(ht)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _t(){return(_t=Object(lt.a)(ct.a.mark(function e(){var t,n,a;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=q().market,n="zh"===ae()?"CNY":"USDT",a=[{chainType:"COSMOS",address:"uatom",currency:n}],e.abrupt("return",gt(t,"market.getPrice",a).then(function(e){return e||{}}).catch(mt));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var At=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).updateAsyncData=function(){var e=n.props,t=e.updateAccount,a=e.updateDelegations,r=e.updateValidators,o=e.updatePool,c=e.updateValidatorRewards,i=e.updateAtomPrice;Le.callPromisifyAPI("cosmos.getAccounts").catch(function(e){return console.warn(e)}).then(function(e){var n=e[0];t({address:n}),Et(n).then(te).then(function(e){t({rewardBalance:e})}),yt(n).then(ne).then(function(e){t({refundingBalance:e})}),function(e){var t={coins:[],sequence:"0",account_number:"0"};return ft("auth/accounts/".concat(e),{}).then(function(e){if(!e)throw new Error("no response");var n=e.value||t;if("auth/DelayedVestingAccount"===e.type){if(!n.BaseVestingAccount)return t;delete(n=Object.assign({},n.BaseVestingAccount.BaseAccount,n.BaseVestingAccount)).BaseAccount,delete n.BaseVestingAccount}return n}).catch(function(e){if(e.message.includes("account bytes are empty")||e.message.includes("failed to prove merkle proof"))return t;console.warn(e)})}(n).then(function(e){var n=$(e);t(Object(u.a)({},e,{balance:n}))}),bt(n).then(function(e){var r=ee(e);a(e),t({delegateBalance:r});var o={},i=e.map(function(e){return kt(n,e.validator_address).then(function(t){o[e.validator_address]=t,console.log(o)})});Promise.all(i).then(function(){c(o)})})}),Ot().then(function(e){console.log(e),o(e)}),function(){return jt.apply(this,arguments)}().then(r).catch(function(e){return console.warn(e)}),function(){return _t.apply(this,arguments)}().then(i)},n}return Object(A.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.updateAsyncData(),Ke.on("updateAsyncData",function(){e.updateAsyncData(),setTimeout(e.updateAsyncData,3e4)})}},{key:"componentWillUnmount",value:function(){Ke.off("updateAsyncData")}},{key:"render",value:function(){return r.a.createElement(ce.a,{basename:"/cosmos"},r.a.createElement(ie.c,null,r.a.createElement(ie.a,{exact:!0,path:"/",component:Te}),r.a.createElement(ie.a,{exact:!0,path:"/validators",component:qe}),r.a.createElement(ie.a,{path:"/validator/:id",component:Ue}),r.a.createElement(ie.a,{path:"/delegate/:id",component:Ge}),r.a.createElement(ie.a,{path:"/undelegate/:id",component:nt}),r.a.createElement(ie.a,{path:"/vote",component:rt})))}}]),t}(a.Component),wt={updateAccount:function(e){return{type:m,payload:{account:e}}},updateDelegations:function(e){return{type:v,payload:{delegations:e}}},updateValidators:function(e){return{type:p,payload:{validators:e}}},updatePool:function(e){return{type:f,payload:{pool:e}}},updateValidatorRewards:function(e){return{type:g,payload:{validatorRewards:e}}},updateAtomPrice:function(e){return{type:h,payload:{price:e}}}},Nt=Object(i.b)(function(e){return{validators:se(e)}},wt)(At),Ct=(n(130),function(e){var t=[y,s.a],n=l.a.apply(void 0,t);return Object(l.c)(E,e,n)}(void 0));c.a.render(r.a.createElement(i.a,{store:Ct},r.a.createElement(oe,null,r.a.createElement(Nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t){},55:function(e,t,n){e.exports=n.p+"static/media/cosmos.b8b0a545.svg"},56:function(e,t,n){e.exports=n.p+"static/media/faq.f4c90403.svg"},57:function(e,t,n){e.exports=n.p+"static/media/turtorial.9f45c1c4.svg"},60:function(e,t,n){e.exports=n(131)},76:function(e,t){},82:function(e,t){},87:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.90fda17b.chunk.js.map