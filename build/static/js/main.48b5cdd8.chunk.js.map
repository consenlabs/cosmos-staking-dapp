{"version":3,"sources":["serviceWorker.js","lib/redux/constant.ts","lib/redux/reducers.ts","lib/redux/configureStore.ts","locale/zh_CN.js","locale/en_US.js","config/network.ts","config/fee.ts","lib/utils.ts","Intl.tsx","lib/redux/selectors.ts","components/navBar/index.tsx","components/accountCard/index.tsx","components/validatorLogo/index.tsx","components/loading/index.tsx","components/delegationList/index.tsx","config/banner.ts","components/banner/index.tsx","components/walletMark/index.tsx","lib/logger.ts","pages/home/index.tsx","components/validatorCard/index.tsx","components/validatorList/index.tsx","pages/validators/index.tsx","pages/validatorDetail/index.tsx","lib/sdk.ts","lib/validator.ts","lib/event.ts","components/delegateForm/index.tsx","pages/delegate/index.tsx","components/undelegateForm/index.tsx","pages/undelegate/index.tsx","pages/vote/index.tsx","lib/api.ts","pages/app/index.tsx","lib/redux/actions.ts","index.tsx"],"names":["Boolean","window","location","hostname","match","UPDATE_ACCOUNT","UPDATE_VALIDATORS","UPDATE_DELEGATIONS","UPDATE_POOL","UPDATE_VALIDATOR_REWARDS","UPDATE_ATOM_PRICE","initialState","account","validators","delegations","pool","not_bonded_tokens","bonded_tokens","validatorRewards","price","device","state","arguments","length","undefined","action","produce","draft","type","types","payload","Object","objectSpread","logger","store","next","console","group","info","result","log","getState","groupEnd","zh_CN","available_asset","earnings","delegation","unstaking","my_delegation","delegated","annualized_earnings","anticipated_earnings","unstake","delegate","accessing_account","commission","total_delegation","validator_delegation","staked","failed_to_send","sent_successfully","without_delegation_couldnt_unstake","cancel_delegate","input_amount","proposal_vote","coming_soon","en_US","networkConfig","dev","denom","chainAPI","market","prod","network","isDev","host","indexOf","fee","transfer","amount","getNetworkConfig","gas","retainFee","Toast","cogoToast","createTxPayload","from","msg","memo","chainType","getFeeConfig","createDelegateMsg","delegatorAddress","validatorAddress","value","delegator_address","validator_address","createUnDelegateMsg","BN","DP","RM","ellipsis","str","num","concat","substring","toBN","x","uatom","atom","times","toString","div","thousandCommas","numeral","format","fPercent","p","fixed","isNaN","Number","toFixed","isExist","o","getBalanceFromAccount","v","coins","Array","isArray","find","c","getDeletationBalance","balance","forEach","d","shares","getRewardBalance","rewards","getUnbondingBalance","unbondingDelegations","entries","getLocale","navigator","language","toLowerCase","split","addLocaleData","toConsumableArray","zh","en","Inter","children","this","props","locale","localeMessage","chooseLocale","react_default","a","createElement","index_es","key","messages","Component","Intl","connect","_state","selectAccountInfo","selectValidators","selectDelegations","selectPool","selectValidatorRewards","selectPrice","CMP","index","className","react_router_dom","to","id","_this$props","_this$props$price","address","rewardBalance","refundingBalance","delegateBalance","atomPrice","currency","injectIntl","url","alt","src","title","components_loading","reward","operator_address","components_validatorLogo","description","logo","moniker","annualized_returns","place","decimal","_this","map","el","renderItem","config_banner","name","imgs","zh_big","zh_small","en_big","en_small","bigSelected","smallSelected","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","size","Date","now","bannerConfig","Math","abs","selectedConfig","getRandomBanner","_this$state","components_walletMark","mixpanel","track_links","warn","track","Page","components_navBar","components_accountCard","components_delegationList","components_banner","withRouter","validator","tokens","totalPoolBondedTokens","percent","components_validatorCard","components_validatorList","params","href","website","details","delegator_shares","rate","style","bottom","test","userAgent","screen","height","callPromisifyAPI","apiName","_payload","Promise","resolve","reject","Error","imToken","sendTransaction","validAmount","bnAmounnt","plus","gt","lt","pubsub","EventEmitter","onSubmit","history","intl","_validAmount","_validAmount2","slicedToArray","valid","error","then","txHash","success","heading","formatMessage","push","emit","catch","e","message","onChange","event","setState","target","_this$props2","atomBalance","disabled","placeholder","max","min","onClick","components_delegateForm","renderEmpty","components_undelegateForm","_provider","warnning","err","initRequestDependency","_initRequestDependency","apply","_callee","regenerator_default","wrap","_context","prev","t0","sent","t1","abrupt","provider","stop","get","_ref","_url","Axios","method","res","data","JSON","stringify","rpc","_ref2","objectDestructuringEmpty","jsonrpc","sortValidators","b","getDelegations","getRewards","delegatorAddr","getUnbondingDelegations","getStakePool","getMyRewardByValidator","validatorAddr","_callee2","_context2","Tokens","sort","_callee3","_context3","prices","App","updateAsyncData","updateAccount","updateDelegations","updateValidators","updatePool","updateValidatorRewards","updateAtomPrice","accounts","api","utils","emptyAccount","sequence","account_number","BaseVestingAccount","assign","BaseAccount","includes","accountInfo","promises","all","_getValidators","_getAtomPrice","_this2","on","setTimeout","off","basename","react_router","exact","path","component","Home","Validators","ValidatorDetail","Delegate","UnDelegate","Vote","mapDispatchToProps","preloadedState","middlewares","thunkMiddleware","middlewareEnhancer","applyMiddleware","createStore","rootReducer","configureStore","ReactDOM","render","es","src_Intl","pages_app","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.48b5cdd8.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const UPDATE_VALIDATORS = 'UPDATE_VALIDATORS'\nexport const UPDATE_DELEGATIONS = 'UPDATE_DELEGATIONS'\nexport const UPDATE_POOL = 'UPDATE_POOL'\nexport const UPDATE_LANGUAGE = 'UPDATE_LANGUAGE'\nexport const UPDATE_VALIDATOR_REWARDS = 'UPDATE_VALIDATOR_REWARDS'\nexport const UPDATE_ATOM_PRICE = 'UPDATE_ATOM_PRICE'\n","import produce from 'immer'\nimport * as types from './constant'\n\nconst initialState = {\n  account: {\n  },\n  validators: [],\n  delegations: [],\n  pool: {\n    not_bonded_tokens: 0,\n    bonded_tokens: 0,\n  },\n  validatorRewards: {},\n  price: {},\n}\n\nexport default function device(state = initialState, action) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case types.UPDATE_ACCOUNT:\n        const account = action.payload.account\n        if (account && typeof account === 'object') {\n          draft.account = { ...draft.account, ...action.payload.account }\n        }\n        return\n      case types.UPDATE_VALIDATORS:\n        draft.validators = action.payload.validators\n        return\n      case types.UPDATE_DELEGATIONS:\n        draft.delegations = action.payload.delegations\n        return\n      case types.UPDATE_POOL:\n        draft.pool = action.payload.pool\n        return\n      case types.UPDATE_VALIDATOR_REWARDS:\n        draft.validatorRewards = action.payload.validatorRewards\n        return\n      case types.UPDATE_ATOM_PRICE:\n        draft.price = action.payload.price\n        return\n      default:\n        return draft\n    }\n  })\n}\n","import { applyMiddleware, createStore } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\n\nimport rootReducer from './reducers'\n\nconst logger = store => next => action => {\n  console.group(action.type)\n  console.info('dispatching', action)\n  let result = next(action)\n  console.log('next state', store.getState())\n  console.groupEnd()\n  return result\n}\n\nexport default function configureStore(preloadedState) {\n  const middlewares = [logger, thunkMiddleware]\n  const middlewareEnhancer = applyMiddleware(...middlewares)\n\n\n  const store = createStore(rootReducer, preloadedState, middlewareEnhancer)\n\n  return store\n}","const zh_CN = {\n  available_asset: '可用余额',\n  earnings: '收益',\n  delegation: '委托',\n  unstaking: '赎回中',\n  my_delegation: '我的委托',\n  delegated: '已委托',\n  validators: '验证节点',\n  annualized_earnings: '预计年化收益',\n  anticipated_earnings: '预计收益(天)',\n  unstake: '赎回',\n  delegate: '委托',\n  accessing_account: '获取账号中...',\n  commission: '佣金',\n  total_delegation: '总委托',\n  validator_delegation: '验证者委托',\n  staked: '已抵押',\n  failed_to_send: '发送失败',\n  sent_successfully: '发送成功',\n  without_delegation_couldnt_unstake: '🤪 你在此验证者下没有抵押，无法赎回',\n  cancel_delegate: '取消委托',\n  input_amount: '输入金额',\n  proposal_vote: '提案投票',\n  coming_soon: '即将上线',\n}\n\nexport default zh_CN\n","const en_US = {\n  available_asset: 'Available Asset',\n  earnings: 'Earnings',\n  delegation: 'Delegation',\n  unstaking: 'Unstaking',\n  my_delegation: 'My Delegation',\n  delegated: 'Delegated',\n  validators: 'Validators',\n  annualized_earnings: 'Annualized Returns',\n  anticipated_earnings: 'Anticipated Returns(day)',\n  unstake: 'Unstake',\n  delegate: 'Delegate',\n  accessing_account: 'Accessing Account...',\n  commission: 'Commission Rate',\n  total_delegation: 'Total Delegation',\n  validator_delegation: 'Validator Delegation',\n  staked: 'Staked',\n  failed_to_send: 'Failed',\n  sent_successfully: 'Successfully',\n  without_delegation_couldnt_unstake: \"🤪 You don't have any delegation in the validator, couldn't unstake\",\n  cancel_delegate: 'Cancel Delegate',\n  input_amount: 'Input Amount',\n  proposal_vote: 'Proposal Vote',\n  coming_soon: 'Coming Soon',\n}\n\nexport default en_US","const networkConfig = {\n  dev: {\n    denom: 'muon',\n    chainAPI: 'https://api.dev.tokenlon.im/v1/cosmos',\n    market: 'https://dexapi.dev.tokenlon.im/rpc',\n  },\n  prod: {\n    denom: 'uatom',\n    chainAPI: 'https://api.tokenlon.im/v1/cosmos',\n    market: 'https://mainnet-dexapi.token.im/rpc',\n  },\n}\n\nexport default () => {\n  const isDev = window.location.host.indexOf('.dev.') !== -1\n  const env = isDev ? 'dev' : 'prod'\n  return networkConfig[env]\n}\n","import getNetworkConfig from './network'\n\nexport default () => ({\n  transfer: { \"amount\": [{ \"amount\": \"5000\", \"denom\": getNetworkConfig().denom }], \"gas\": \"200000\" },\n  retainFee: 0.01,\n})","import BN from 'big.js'\nimport numeral from 'numeral'\nimport cogoToast from 'cogo-toast'\nimport getFeeConfig from '../config/fee'\n\nexport const Toast = cogoToast\n\nBN.DP = 20\nBN.RM = 0\n\n// interface __MsgAmount {\n//   amount: string\n//   denom: string\n// }\n\ninterface __Msg {\n  type: string\n  value: any\n}\n\nexport function createTxPayload(from: string, msg: __Msg[], memo: string) {\n  const payload = {\n    from: from,\n    chainType: 'COSMOS',\n    fee: getFeeConfig().transfer,\n    msg,\n    memo,\n  }\n  return payload\n}\n\nexport function createTransferMsg(fromAddr, toAddr, amount, denom) {\n  return {\n    \"type\": \"cosmos-sdk/MsgSend\",\n    \"value\": {\n      \"amount\": [{ \"amount\": amount, \"denom\": denom }],\n      \"from_address\": fromAddr,\n      \"to_address\": toAddr\n    }\n  }\n}\n\nexport function createDelegateMsg(delegatorAddress, validatorAddress, amount, denom) {\n  return {\n    \"type\": \"cosmos-sdk/MsgDelegate\",\n    \"value\": {\n      \"delegator_address\": delegatorAddress,\n      \"validator_address\": validatorAddress,\n      \"amount\": { \"amount\": amount, \"denom\": denom },\n    }\n  }\n}\n\nexport function createUnDelegateMsg(delegatorAddress, validatorAddress, amount, denom) {\n  return {\n    \"type\": \"cosmos-sdk/MsgUndelegate\",\n    \"value\": {\n      \"delegator_address\": delegatorAddress,\n      \"validator_address\": validatorAddress,\n      \"amount\": { \"amount\": amount, \"denom\": denom },\n    }\n  }\n}\n\nexport function createWithdrawMsg(delegatorAddress, validatorAddress, amount, denom) {\n  return {\n    \"type\": \"cosmos-sdk/MsgWithdrawDelegationReward\",\n    \"value\": {\n      \"delegator_address\": delegatorAddress,\n      \"validator_address\": validatorAddress,\n      \"amount\": { \"amount\": amount, \"denom\": denom },\n    }\n  }\n}\n\nexport function createRedelegateMsg(delegatorAddress, validatorSrcAddress, validatorDstAddress, amount, denom) {\n  return {\n    \"type\": \"cosmos-sdk/MsgBeginRedelegate\",\n    \"value\": {\n      \"delegator_address\": delegatorAddress,\n      \"validator_src_address\": validatorSrcAddress,\n      \"validator_dst_address\": validatorDstAddress,\n      \"value\": {\n        \"amount\": { \"amount\": amount, \"denom\": denom },\n      }\n    }\n  }\n}\n\nexport const ellipsis = (str: string, num: number = 20): string => {\n  if (str && str.length > num) {\n    return `${str.substring(0, num / 2)}...${str.substring(str.length - num / 2, str.length)}`\n  }\n  return str\n}\n\nexport const toBN = (x) => new BN(x)\n\nexport const uatom = (atom: string | number) => {\n  return new BN(atom, 10).times(1e6).toString()\n}\n\nexport const atom = (uatom: string | number) => {\n  return new BN(uatom).div(1e6).toString()\n}\n\nexport const thousandCommas = (num: string | number) => {\n  return numeral(num).format('0,0.[0000]')\n}\n\nexport const fPercent = (p: number, fixed = 3) => {\n  return !isNaN(Number(p)) ? `${(p * 100).toFixed(fixed)}%` : '~'\n}\n\nexport const decimal = (num: string | number, place: number = 3): string => {\n  if (!num || Number(num) === 0) return '0'\n  return toBN(num).toFixed(place, 1)\n}\n\nexport const isExist = (o: any) => {\n  return typeof o !== 'undefined'\n}\n\nexport const getBalanceFromAccount = (account) => {\n  const v = account\n  if (!v || !v.coins || !Array.isArray(v.coins)) return 0\n  const atom = v.coins.find(\n    c => c.denom === 'uatom' || c.denom === 'muon'\n  )\n  return atom.amount || 0\n}\n\nexport const getDeletationBalance = (delegations) => {\n  let balance = 0\n  delegations.forEach(d => {\n    balance += d.shares * 1\n  })\n  return balance.toFixed(0)\n}\n\nexport const getRewardBalance = (rewards) => {\n  let balance = 0\n  rewards.forEach(d => {\n    balance += d.amount * 1\n  })\n  return balance.toFixed(0)\n}\n\nexport const getUnbondingBalance = (unbondingDelegations) => {\n  let balance = 0\n  unbondingDelegations.forEach(d => {\n    if (Array.isArray(d.entries)) {\n      d.entries.forEach(o => {\n        balance += o.balance * 1\n      })\n    }\n  })\n  return balance.toFixed(0)\n}\n\nexport const isiPhoneX = () => {\n  if (typeof window !== 'undefined' && window) {\n    return /iphone/gi.test(window.navigator.userAgent) && window.screen.height >= 812;\n  }\n  return false\n}\n\nexport const getLocale = () => {\n  let val = navigator.language || ''\n  const locale = val.toLowerCase().split(/[^\\w+]/ig)[0] || 'zh'\n  return locale\n\n}","import React, { Component } from 'react'\nimport { addLocaleData, IntlProvider } from 'react-intl'\nimport { connect } from 'react-redux'\nimport zh_CN from './locale/zh_CN'\nimport en_US from './locale/en_US'\nimport zh from 'react-intl/locale-data/zh'\nimport en from 'react-intl/locale-data/en'\nimport { getLocale } from 'lib/utils'\n\naddLocaleData([...zh, ...en])\n\ninterface Props {\n  children: any\n}\n\n\nclass Inter extends Component<Props, any> {\n  render() {\n    let { children } = this.props\n    const locale = getLocale()\n    const localeMessage = chooseLocale(locale)\n    return (\n      <IntlProvider key={locale} locale={locale} messages={localeMessage}>\n        {children}\n      </IntlProvider>\n    )\n  }\n}\n\nfunction chooseLocale(locale) {\n  switch (locale) {\n    case 'en':\n      return en_US\n    case 'zh':\n      return zh_CN\n    default:\n      return zh_CN\n  }\n}\n\nconst mapStateToProps = (_state) => {\n  return {\n\n  }\n}\n\nlet Intl = connect(mapStateToProps)(Inter)\n\nexport default Intl","export const selectAccountInfo = state => state.account\nexport const selectValidators = state => state.validators\nexport const selectDelegations = state => state.delegations\nexport const selectPool = state => state.pool\nexport const selectValidatorRewards = state => state.validatorRewards\nexport const selectPrice = state => state.price\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { FormattedMessage } from 'react-intl'\nimport './index.scss'\n\ninterface Props {\n  index: number\n}\n\nclass CMP extends Component<Props> {\n\n  componentDidMount() { }\n\n  render() {\n    const { index } = this.props\n\n    return <div className=\"navbar\">\n      <div>\n        <Link className={index === 0 ? \"selected\" : \"\"} to=\"/\">\n          <FormattedMessage\n            id='my_delegation'\n          />\n        </Link>\n        <Link className={index === 1 ? \"selected\" : \"\"} to=\"/validators\">\n          <FormattedMessage\n            id='validators'\n          />\n        </Link>\n      </div>\n    </div>\n  }\n}\n\nexport default CMP\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { injectIntl, FormattedMessage } from 'react-intl'\nimport { selectAccountInfo, selectPrice } from '../../lib/redux/selectors'\nimport './index.scss'\nimport { toBN, atom, thousandCommas, ellipsis, isExist } from 'lib/utils'\n\ninterface Props {\n  account: any\n  price: any\n}\n\nclass CMP extends Component<Props> {\n\n  componentDidMount() { }\n\n  render() {\n    const { account, price = {} } = this.props\n    const { address, balance, rewardBalance, refundingBalance, delegateBalance } = account\n    const atomPrice = price.price || 0\n    const currency = price.currency === 'CNY' ? '¥' : '$'\n\n    return (\n      <div className=\"account-card\">\n        <div className=\"account-top\">\n          <div className=\"account-top-address\">\n            <strong>Cosmos Wallet</strong>\n            {address ? (\n              <span>{ellipsis(address, 24)}</span>\n            ) : (\n                <FormattedMessage\n                  id='accessing_account'\n                />\n              )}\n          </div>\n          <div className=\"account-top-amount\">\n            <strong>{isExist(balance) ? `${thousandCommas(atom(balance))} ATOM` : '~'}</strong>\n            <span>{currency} {isExist(balance) ? thousandCommas(toBN(atom(balance)).times(atomPrice).toString()) : '~'}</span>\n          </div>\n        </div>\n        <div className=\"account-bottom\">\n          <div>\n            <div>\n              <FormattedMessage\n                id='available_asset'\n              />\n              <i>{isExist(balance) ? thousandCommas(atom(balance)) : '~'}</i>\n            </div>\n            <div>\n              <FormattedMessage\n                id='earnings'\n              />\n              <i>{isExist(rewardBalance) ? thousandCommas(atom(rewardBalance)) : '~'}</i>\n            </div>\n          </div>\n          <div className=\"split-line\"></div>\n          <div>\n            <div>\n              <FormattedMessage\n                id='delegation'\n              />\n              <i>{isExist(delegateBalance) ? thousandCommas(atom(delegateBalance)) : '~'}</i>\n            </div>\n            <div>\n              <FormattedMessage\n                id='unstaking'\n              />\n              <i>{isExist(refundingBalance) ? thousandCommas(atom(refundingBalance)) : '~'}</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    account: selectAccountInfo(state),\n    price: selectPrice(state),\n  }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(CMP))\n","import React, { Component } from 'react'\nimport './index.scss'\n\ninterface Props {\n  url: string\n}\n\nclass CMP extends Component<Props> {\n\n  componentDidMount() { }\n\n  render() {\n    const { url } = this.props\n    const placeholder = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNs75j+HwAF6wKnIaCjVwAAAABJRU5ErkJggg=='\n\n    return <div className=\"logo\">\n      <img alt=\"logo\" src={url || placeholder} title=\"logo\" />\n    </div>\n  }\n}\n\nexport default CMP\n","import React from 'react'\nimport './index.scss'\n\nexport default () => <div className=\"loading-wrap\">\n  <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n</div>\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { Link } from 'react-router-dom'\nimport { FormattedMessage } from 'react-intl'\nimport { selectDelegations, selectValidators, selectValidatorRewards } from '../../lib/redux/selectors'\nimport ValidatorLogo from '../../components/validatorLogo'\nimport Loading from '../../components/loading'\nimport './index.scss'\nimport { atom, thousandCommas, fPercent, decimal } from 'lib/utils'\n\ninterface Props {\n  delegations: any[]\n  validators: any[]\n  validatorRewards: any\n}\n\n\nclass CMP extends Component<Props> {\n\n  componentDidMount() {\n  }\n\n  renderItem(d, v, index) {\n    if (!v) return null\n\n    const { validatorRewards } = this.props\n    const reward = validatorRewards[v.operator_address] || 0\n\n    return <Link className=\"dl-card\" key={index} to={`/validator/${v.operator_address}`}>\n      <div className=\"top\">\n        <ValidatorLogo url={v.description.logo} />\n        <strong>{v.description.moniker}</strong>\n        <div>\n          <i>{fPercent(v.annualized_returns, 3) || '~'}</i>\n          <FormattedMessage\n            id='annualized_earnings'\n          />\n        </div>\n      </div>\n      <div className=\"split-line\"></div>\n      <div className=\"bottom\">\n        <div>\n          <FormattedMessage\n            id='delegated'\n          />\n          <i>{thousandCommas(atom(d.shares))}</i>\n        </div>\n\n        <div>\n          <FormattedMessage\n            id='earnings'\n          />\n          <i>{reward ? thousandCommas(atom(reward)) : '~'}</i>\n        </div>\n\n        <div>\n          <FormattedMessage\n            id='anticipated_earnings'\n          />\n          <i>{d.shares && v.annualized_returns ? `+${decimal(atom(d.shares * v.annualized_returns / 365))}` : '~'}</i>\n        </div>\n      </div>\n\n    </Link>\n  }\n\n  render() {\n    const { delegations, validators } = this.props\n\n    if (!delegations || !delegations.length) return <Loading />\n\n    return (\n      <div className=\"delegations\">\n        {!!delegations && delegations.map((d, index) => {\n          const v = validators.find(el => el.operator_address === d.validator_address)\n          return this.renderItem(d, v, index)\n        })}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state),\n    delegations: selectDelegations(state),\n    validatorRewards: selectValidatorRewards(state)\n  }\n}\n\nconst mapDispatchToProps = {}\nexport default connect(mapStateToProps, mapDispatchToProps)(CMP)\n","export default [\n  {\n    name: 'hash',\n    operator_address: 'cosmosvaloper1cgh5ksjwy2sd407lyre4l3uj2fdrqhpkzp06e6',\n    imgs: {\n      zh_big: 'https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-big.png',\n      zh_small: 'https://aws-v2-cdn.token.im/cosmos/collaborators/hash-zh-small.png',\n      en_big: 'https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-big.png',\n      en_small: 'https://aws-v2-cdn.token.im/cosmos/collaborators/hash-en-small.png',\n    }\n  },\n  {\n    name: 'SparkPool',\n    operator_address: 'cosmosvaloper1rwh0cxa72d3yle3r4l8gd7vyphrmjy2kpe4x72',\n    imgs: {\n      zh_big: 'https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-big.png',\n      zh_small: 'https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-zh-small.png',\n      en_big: 'https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-big.png',\n      en_small: 'https://aws-v2-cdn.token.im/cosmos/collaborators/sparkpool-en-small.png',\n    }\n  },\n]","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './index.scss'\nimport { getLocale } from '../../lib/utils'\nimport bannerConfig from '../../config/banner'\n\ninterface Props {\n  size: 'big' | 'small'\n}\n\nlet bigSelected: any = null\nlet smallSelected: any = null\n\nfunction getRandomBanner(size) {\n  const locale = getLocale()\n  console.log(size)\n\n  const index = Date.now() % 2\n  bigSelected = bigSelected || bannerConfig[index]\n  smallSelected = smallSelected || bannerConfig[Math.abs(index - 1)]\n\n  const selectedConfig = size === 'big' ? bigSelected : smallSelected\n  console.log(selectedConfig, bigSelected, smallSelected)\n\n  console.log(locale, size)\n  return {\n    url: selectedConfig.imgs[`${locale}_${size}`],\n    address: selectedConfig.operator_address,\n  }\n}\n\n\nclass CMP extends Component<Props, any> {\n\n  constructor(props) {\n    super(props)\n    this.state = getRandomBanner(props.size)\n    console.log(this.state)\n  }\n\n  componentDidMount() { }\n\n  render() {\n    const { address, url } = this.state\n\n    return <Link className=\"banner\" to={`/validator/${address}`}>\n      <div>\n        <img src={url} alt=\"staking\" />\n      </div>\n    </Link>\n  }\n}\n\nexport default CMP\n","import React from 'react'\nimport './index.scss'\n\nexport default () => <div className=\"water-mark\"></div>\n","const logger = (): {\n  track_links: Function,\n  track: Function,\n} => (window as any).mixpanel || {\n  track_links: () => console.warn('track_links'),\n  track: () => console.warn('track'),\n}\n\nexport default logger\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport { injectIntl } from 'react-intl'\nimport './index.scss'\nimport NavBar from '../../components/navBar'\nimport AccountCard from '../../components/accountCard'\nimport DelegationList from '../../components/delegationList'\nimport Banner from '../../components/banner'\nimport WaterMark from '../../components/walletMark'\nimport logger from '../../lib/logger'\n\ninterface Props {\n  validators: any[]\n  updateValidators: (value: any) => any\n  updateDelegations: (value: any) => any\n  updateAccount: (value: any) => any\n}\n\nclass Page extends Component<Props, any> {\n  componentDidMount() {\n    logger().track('to_home')\n  }\n\n  render() {\n    return (\n      <div className=\"home\" id=\"home\">\n        <WaterMark />\n        <NavBar index={0} />\n        <AccountCard />\n        <DelegationList />\n        <Banner size=\"big\" />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = _state => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(injectIntl(Page)))\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { Link } from 'react-router-dom'\nimport ValidatorLogo from '../../components/validatorLogo'\nimport './index.scss'\nimport { atom, thousandCommas, fPercent } from 'lib/utils'\nimport { FormattedMessage } from 'react-intl'\n\ninterface Props {\n  validator: any\n  pool: any\n}\n\nclass CMP extends Component<Props> {\n\n  componentDidMount() { }\n\n  render() {\n\n    const { pool, validator } = this.props\n    const v = validator\n    const tokens = atom(v.tokens)\n    const totalPoolBondedTokens = pool.bonded_tokens\n    const percent = tokens / atom(totalPoolBondedTokens)\n\n    return <Link className=\"validator\" to={`/validator/${v.operator_address}`}>\n\n      <ValidatorLogo url={v.description.logo} />\n      <div className=\"v-left\">\n        <strong>{v.description.moniker}</strong>\n        <span>{thousandCommas(tokens)} ({fPercent(percent, 3)})</span>\n      </div>\n      <div className=\"v-right\">\n        <strong>{fPercent(v.annualized_returns, 3)}</strong>\n        <FormattedMessage\n          id='annualized_earnings'\n        />\n      </div>\n    </Link>\n  }\n}\n\nconst mapStateToProps = _state => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CMP)\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport { selectValidators, selectPool } from '../../lib/redux/selectors'\nimport ValidatorCard from '../../components/validatorCard'\nimport Loading from '../../components/loading'\nimport './index.scss'\n\ninterface Props {\n  validators: any[]\n  pool: any\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n\n  }\n\n\n  render() {\n    const { validators, pool } = this.props\n\n    if (!validators || !validators.length) return <Loading />\n\n    return (\n      <div className=\"validator-list\">\n        {\n          validators.map(v => {\n            return <ValidatorCard validator={v} key={v.operator_address} pool={pool} />\n          })\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state),\n    pool: selectPool(state)\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport ValidatorList from '../../components/validatorList'\nimport NavBar from '../../components/navBar'\nimport Banner from '../../components/banner'\nimport WaterMark from '../../components/walletMark'\nimport './index.scss'\nimport logger from '../../lib/logger'\n\ninterface Props {\n  validators: any[]\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n    logger().track('to_validators_list')\n  }\n\n\n  render() {\n    return (\n      <div className=\"validators\">\n        <WaterMark />\n        <NavBar index={1} />\n        <Banner size=\"small\" />\n        <ValidatorList />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = _state => {\n  return {\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter, Link } from 'react-router-dom'\nimport { FormattedMessage } from 'react-intl'\nimport { selectValidators } from '../../lib/redux/selectors'\nimport { ellipsis, thousandCommas, atom, fPercent, isiPhoneX } from '../../lib/utils'\nimport ValidatorLogo from '../../components/validatorLogo'\nimport Loading from '../../components/loading'\nimport './index.scss'\nimport logger from '../../lib/logger'\n\ninterface Props {\n  validators: any\n  match: any\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n    const { match } = this.props\n    const id = match.params.id\n    logger().track('to_validator_detail', { validator: id })\n  }\n\n  render() {\n    const { validators, match } = this.props\n    const id = match.params.id\n    const v = validators.find(v => v.operator_address === id)\n\n    if (!v) return <Loading />\n\n    return (\n      <div className=\"validator-detail\">\n        <section>\n          <a className=\"top\" href={v.description.website || 'javascript:void(0)'}>\n            <ValidatorLogo url={v.description.logo} />\n            <div className=\"left\">\n              <strong>{v.description.moniker}</strong>\n              <span>{ellipsis(v.operator_address, 24)}</span>\n            </div>\n          </a>\n          <div className=\"desc\">{v.description.details || 'no description'}</div>\n        </section>\n\n        <ul>\n          <li>\n            <FormattedMessage\n              id='total_delegation'\n            />\n            <i>{thousandCommas(atom(v.tokens))} ATOM</i>\n          </li>\n          <li>\n            <FormattedMessage\n              id='validator_delegation'\n            />\n            <i>{thousandCommas(atom(v.delegator_shares))} ATOM</i>\n          </li>\n          {/* <li>\n            <span>委托者</span>\n            <i>~</i>\n          </li> */}\n          <li>\n            <FormattedMessage\n              id='commission'\n            />\n            <i>{fPercent(v.commission.rate, 1)}</i>\n          </li>\n          <li>\n            <FormattedMessage\n              id='annualized_earnings'\n            />\n            <i>{fPercent(v.annualized_returns, 3)}</i>\n          </li>\n        </ul>\n\n        <div className=\"toolbar\" style={{ bottom: isiPhoneX() ? 40 : 0 }}>\n          <Link to={`/undelegate/${v.operator_address}`}>\n            <FormattedMessage\n              id='unstake'\n            />\n          </Link>\n          <Link to={`/delegate/${v.operator_address}`}>\n            <FormattedMessage\n              id='delegate'\n            />\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state)\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","window['imToken'] = window['imToken'] || {\n  callPromisifyAPI: (apiName: string, _payload: any): Promise<any> => {\n    switch (apiName) {\n      case 'cosmos.getAccounts':\n        return Promise.resolve(['cosmos18ptg027t5cumqzkhpn726uhdqdadh88ss7ytv3'])\n      // return Promise.resolve(['cosmos1y0a8sc5ayv52f2fm5t7hr2g88qgljzk4jcz78f'])\n      case 'cosmos.getProvider':\n        // return Promise.resolve('https://stargate.cosmos.network')\n        // return Promise.resolve('https://cosmosapi-testnet.tokenlon.im')\n        return Promise.resolve('https://cosmosapi-mainnet.tokenlon.im')\n      case 'private.getHeaders':\n        return Promise.resolve(`{\"Authorization\":\"Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkZXZpY2VUb2tlbiI6IkVBQjZBRTJELThFNEYtNEFDMS1CODM4LTA5MkQwMzE2NjlGQSIsImp0aSI6ImltMTR4NUxZck11Q1lxaXdTRzVBeFhaOXlGRDlIdml2VmJKdDVMRiJ9.rkJ2jziqRKwHvUKX2xkrkA2CDppGegElgVuZ2syHf5Y\",\"X-IDENTIFIER\":\"im14x5LYrMuCYqiwSG5AxXZ9yFD9HvivVbJt5LF\",\"X-CLIENT-VERSION\":\"ios:2.3.1.515:14\",\"X-DEVICE-TOKEN\":\"EAB6AE2D-8E4F-4AC1-B838-092D031669FA\",\"X-LOCALE\":\"en-US\",\"X-CURRENCY\":\"CNY\",\"X-DEVICE-LOCALE\":\"en\",\"X-APP-ID\":\"im.token.app\",\"X-API-KEY\":\"3bdc0a49ba634a8e8f3333f8e66e0b84\",\"Content-Type\":\"application/json\"}`)\n      default:\n        return Promise.reject(new Error('当前不是 imToken 环境'))\n    }\n  }\n}\n\nconst imToken = window['imToken']\n/**\n * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ rn api requests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n */\n\nexport function getAccounts() {\n  return imToken.callPromisifyAPI('cosmos.getAccounts')\n}\n\nexport function getProvider() {\n  return imToken.callPromisifyAPI('cosmos.getProvider')\n}\n\nexport function getHeaders() {\n  return imToken.callPromisifyAPI('private.getHeaders')\n    .then(headers => JSON.parse(headers))\n    .then(headers => {\n      delete headers['X-LOCALE']\n      return {\n        ...headers,\n        // 'Access-Control-Allow-Origin': 'http://localhost:3000',\n        // 'Access-Control-Allow-Credentials': 'true',\n        // ...headers,\n      }\n    })\n}\n\nexport function sendTransaction(payload) {\n  return imToken.callPromisifyAPI('cosmos.sendTransaction', payload)\n}\n","import { toBN } from './utils'\n\nexport const validAmount = (amount: number | string, balance: number | string, retainFee = 0) => {\n\n  const num = Number(amount)\n\n  if (isNaN(num)) {\n    return [false, '金额不合法']\n  }\n\n  if (num <= 0) {\n    return [false, '请输入大于 0 的金额']\n  }\n\n  const bnAmounnt = toBN(num)\n\n  if (bnAmounnt.plus(retainFee).gt(balance)) {\n    if (bnAmounnt.lt(balance)) {\n      return [false, '矿工费不够']\n    }\n    return [false, '超出可用数量']\n  }\n\n  return [true, null]\n}","import EventEmitter from 'eventemitter3'\n\nexport const pubsub = new EventEmitter()","import React, { Component } from 'react'\nimport './index.scss'\nimport { atom, uatom, thousandCommas, isExist, createTxPayload, createDelegateMsg, Toast } from 'lib/utils'\nimport { sendTransaction } from 'lib/sdk'\nimport { validAmount } from 'lib/validator'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { pubsub } from 'lib/event'\nimport getNetworkConfig from '../../config/network'\nimport getFeeConfig from '../../config/fee'\nimport logger from '../../lib/logger'\n\ninterface Props {\n  account: any\n  validator: any\n  history: any\n  intl: any\n}\n\nclass CMP extends Component<Props> {\n\n  state = {\n    amount: '',\n  }\n\n  componentDidMount() {\n  }\n\n  afterOpenModal() { }\n\n  onSubmit = () => {\n    const { account, validator, history, intl } = this.props\n    const { balance, address } = account\n    const { amount } = this.state\n    const [valid, msg] = validAmount(amount, atom(balance), getFeeConfig().retainFee)\n    if (!valid) {\n      return Toast.error(msg)\n    }\n\n    logger().track('submit_delegate')\n\n    // send delegate apiCall\n    const txPayload = createTxPayload(\n      address,\n      [createDelegateMsg(address, validator.operator_address, uatom(amount), getNetworkConfig().denom)],\n      'delegate from imToken',\n    )\n\n    sendTransaction(txPayload).then(txHash => {\n      Toast.success(txHash, { heading: intl.formatMessage({ id: 'sent_successfully' }) })\n      logger().track('submit_delegate', { result: 'successful' })\n      console.log(txHash)\n      history.push('/')\n      pubsub.emit('updateAsyncData')\n    }).catch(e => {\n      logger().track('submit_delegate', { result: 'failed', message: e.message })\n      Toast.error(e.message, { heading: intl.formatMessage({ id: 'failed_to_send' }) })\n    })\n  }\n\n  onChange = (event) => {\n    this.setState({ amount: event.target.value })\n  }\n\n  render() {\n    const { account, intl } = this.props\n    const { balance } = account\n    const { amount } = this.state\n    const atomBalance = isExist(balance) ? thousandCommas(atom(balance)) : 0\n    const disabled = !amount\n    return (\n      <div className=\"form-inner\">\n        <div className=\"form-header\">\n          <FormattedMessage\n            id='available_asset'\n          />\n          <i>{atomBalance} ATOM</i>\n        </div>\n        <input\n          type=\"number\"\n          placeholder={intl.formatMessage({ id: 'input_amount' })}\n          value={amount}\n          onChange={this.onChange}\n          max={atomBalance}\n          min={0.000001}\n        />\n        <button disabled={disabled} className=\"form-button\" onClick={this.onSubmit}>\n          <FormattedMessage\n            id='delegate'\n          />\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(CMP)\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport { selectValidators, selectAccountInfo } from '../../lib/redux/selectors'\nimport { ellipsis, } from '../../lib/utils'\nimport DelegateForm from '../../components/delegateForm'\nimport ValidatorLogo from '../../components/validatorLogo'\nimport Loading from '../../components/loading'\nimport './index.scss'\n\ninterface Props {\n  validators: any\n  account: any\n  match: any\n  history: any\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n    console.log(this.props)\n  }\n\n  render() {\n    const { validators, account, match, history } = this.props\n    const id = match.params.id\n    const v = validators.find(v => v.operator_address === id)\n\n    console.log(v, match)\n    if (!v) return <Loading />\n\n    return (\n      <div className=\"delegate-page\">\n        <div className=\"validator-detail\">\n          <section>\n            <div className=\"top\">\n              <ValidatorLogo url={v.description.logo} />\n              <div className=\"left\">\n                <strong>{v.description.moniker}</strong>\n                <span>{ellipsis(v.operator_address, 24)}</span>\n              </div>\n            </div>\n          </section>\n        </div>\n        <DelegateForm account={account} validator={v} history={history} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state),\n    account: selectAccountInfo(state),\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","import React, { Component } from 'react'\nimport './index.scss'\nimport { atom, uatom, thousandCommas, isExist, createTxPayload, createUnDelegateMsg, Toast } from 'lib/utils'\nimport { sendTransaction } from 'lib/sdk'\nimport { validAmount } from 'lib/validator'\nimport { pubsub } from 'lib/event'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport getNetworkConfig from '../../config/network'\nimport logger from '../../lib/logger'\n\ninterface Props {\n  account: any\n  delegation: any\n  validator: any\n  history: any\n  intl: any\n}\n\nclass CMP extends Component<Props, any> {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      amount: '',\n    }\n  }\n\n\n  componentDidMount() {\n  }\n\n\n  onSubmit = () => {\n    const { account, delegation, history, intl } = this.props\n    const delegateBalance = delegation.shares\n    const { address } = account\n    const { amount } = this.state\n    const [valid, msg] = validAmount(amount, atom(delegateBalance))\n    if (!valid) {\n      return Toast.error(msg)\n    }\n\n    logger().track('submit_undelegate')\n\n    // send delegate apiCall\n    const txPayload = createTxPayload(\n      address,\n      [createUnDelegateMsg(\n        address,\n        delegation.validator_address,\n        uatom(amount),\n        getNetworkConfig().denom)\n      ],\n      'undelegate from imToken',\n    )\n\n    sendTransaction(txPayload).then(txHash => {\n      Toast.success(txHash, { heading: intl.formatMessage({ id: 'sent_successfully' }) })\n      logger().track('submit_undelegate', { result: 'successful' })\n      console.log(txHash)\n      history.push('/')\n      pubsub.emit('updateAsyncData')\n    }).catch(e => {\n      logger().track('submit_undelegate', { result: 'failed', message: e.message })\n      Toast.error(e.message, { heading: intl.formatMessage({ id: 'failed_to_send' }) })\n    })\n  }\n\n  onChange = (event) => {\n    this.setState({ amount: event.target.value })\n  }\n\n  renderEmpty() {\n    return <div className=\"form-inner\">\n      <div className=\"form-empty\">\n        <FormattedMessage\n          id='without_delegation_couldnt_unstake'\n        />\n      </div>\n    </div>\n  }\n\n  render() {\n    const { delegation, intl } = this.props\n\n    if (!delegation) return this.renderEmpty()\n\n    const delegateBalance = delegation.shares\n    const { amount } = this.state\n    const atomBalance = isExist(delegateBalance) ? thousandCommas(atom(delegateBalance)) : 0\n    const disabled = !amount\n    return (\n      <div className=\"form-inner\">\n        <div className=\"form-header\">\n          <FormattedMessage\n            id='staked'\n          />\n          <i>{atomBalance} ATOM</i>\n        </div>\n        <input\n          type=\"number\"\n          placeholder={intl.formatMessage({ id: 'input_amount' })}\n          value={amount}\n          onChange={this.onChange}\n          max={atomBalance}\n          min={0.000001}\n        />\n        <button disabled={disabled} className=\"form-button\" onClick={this.onSubmit}>\n          <FormattedMessage\n            id='cancel_delegate'\n          />\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(CMP)\n\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport { selectValidators, selectAccountInfo, selectDelegations } from '../../lib/redux/selectors'\nimport { ellipsis, } from '../../lib/utils'\nimport UnDelegateForm from '../../components/undelegateForm'\nimport ValidatorLogo from '../../components/validatorLogo'\nimport Loading from '../../components/loading'\nimport './index.scss'\n\ninterface Props {\n  validators: any\n  delegations: any\n  account: any\n  match: any\n  history: any\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    const { validators, account, delegations, match, history } = this.props\n    const id = match.params.id\n    const v = validators.find(v => v.operator_address === id)\n\n    if (!v) return <Loading />\n\n    const delegation = delegations.find(d => d.validator_address === v.operator_address)\n\n    console.log(v, match)\n\n    return (\n      <div className=\"delegate-page\">\n        <div className=\"validator-detail\">\n          <section>\n            <div className=\"top\">\n              <ValidatorLogo url={v.description.logo} />\n              <div className=\"left\">\n                <strong>{v.description.moniker}</strong>\n                <span>{ellipsis(v.operator_address, 24)}</span>\n              </div>\n            </div>\n          </section>\n        </div>\n        <UnDelegateForm account={account} delegation={delegation} validator={v} history={history} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state),\n    delegations: selectDelegations(state),\n    account: selectAccountInfo(state),\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport { withRouter } from 'react-router-dom'\nimport { FormattedMessage } from 'react-intl'\nimport WaterMark from '../../components/walletMark'\nimport './index.scss'\n\ninterface Props {\n}\n\nclass Page extends Component<Props> {\n\n  componentDidMount() {\n\n  }\n\n  render() {\n\n    return (\n      <div className=\"vote-page\">\n        <WaterMark />\n        <div className=\"cs-img\">\n          <div className=\"coming-soon\">\n            <FormattedMessage\n              id='proposal_vote'\n            />\n            <FormattedMessage\n              id='coming_soon'\n            />\n          </div>\n        </div>\n        <div className=\"bottom\"></div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = _state => {\n  return {\n  }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(Page))\n","import Axios from \"axios\"\nimport { getProvider } from './sdk'\nimport { getRewardBalance, getLocale } from './utils'\nimport getNetworkConfig from '../config/network'\n\n/**\n * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ node requests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n */\n\n// let _headers = null\nlet _provider = null\n\nconst warnning = (err) => console.warn(err)\n\nexport async function initRequestDependency() {\n  return {\n    // headers: _headers || await getHeaders(),\n    provider: _provider || await getProvider()\n  }\n}\n\nfunction get(url, params = {}) {\n  return initRequestDependency().then(({ provider }) => {\n    const _url = `${provider}/${url}`\n    return Axios({ method: 'get', url: _url, params }).then(res => {\n      if (res.data) {\n        return res.data\n      } else {\n        throw new Error(`null response ${url} ${JSON.stringify(params)}`)\n      }\n    }).catch(warnning)\n  })\n}\n\n\nfunction rpc(url, method, params) {\n  return initRequestDependency().then(({ }) => {\n    const data = {\n      jsonrpc: '2.0',\n      id: 1,\n      method,\n      params,\n    }\n    return Axios({ method: 'post', url, data }).then(res => {\n      if (res.data) {\n        return res.data.result\n      } else {\n        throw new Error(`null response ${url} ${JSON.stringify(params)}`)\n      }\n    })\n  })\n}\n\nfunction sortValidators(a, b) {\n  return a.tokens * 1 > b.tokens * 1 ? -1 : 1\n}\n\n// Normalize account response\n// https://github.com/cosmos/cosmos-sdk/issues/3885\nexport function getAccount(address) {\n  const emptyAccount = {\n    coins: [],\n    sequence: `0`,\n    account_number: `0`,\n  }\n  const url = `auth/accounts/${address}`\n  return get(url, {}).then(res => {\n    if (!res) throw new Error('no response')\n    let account = res.value || emptyAccount\n    if (res.type === `auth/DelayedVestingAccount`) {\n      if (!account.BaseVestingAccount) {\n        return emptyAccount\n      }\n      account = Object.assign({},\n        account.BaseVestingAccount.BaseAccount,\n        account.BaseVestingAccount,\n      )\n      delete account.BaseAccount\n      delete account.BaseVestingAccount\n    }\n    return account\n  }).catch(err => {\n    // if account not found, return null instead of throwing\n    if (err.message.includes(`account bytes are empty`) ||\n      err.message.includes(`failed to prove merkle proof`)) {\n      return emptyAccount\n    }\n    // throw err\n    console.warn(err)\n  })\n}\n\nexport const getDelegations = (address) => {\n  const url = `staking/delegators/${address}/delegations`\n  return get(url, {}).then(delegations => delegations || [])\n}\n\nexport const getRewards = (delegatorAddr) => {\n  const url = `distribution/delegators/${delegatorAddr}/rewards`\n  return get(url, {}).then(rewards => rewards || [])\n}\n\nexport const getUnbondingDelegations = (address) => {\n  const url = `staking/delegators/${address}/unbonding_delegations`\n  return get(url, {}).then(unbondingDelegations => unbondingDelegations || [])\n}\n\nexport const getDelegationTx = (delegatorAddr) => {\n  const url = `staking/delegators/${delegatorAddr}/delegations`\n  return get(url, {})\n}\n\nexport const getStakePool = () => {\n  const url = `staking/pool`\n  return get(url, {}).then(pool => pool || {})\n}\n\nexport const getMyRewardByValidator = (delegatorAddr, validatorAddr) => {\n  const url = `distribution/delegators/${delegatorAddr}/rewards/${validatorAddr}`\n  return get(url, {}).then(rewards => {\n    rewards = rewards || []\n    const balance = getRewardBalance(rewards)\n    return balance\n  })\n}\n\n/**\n * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ server rpc requests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n */\n\nexport async function getValidators() {\n  const host = getNetworkConfig().chainAPI\n  return rpc(host, `wallet.getValidators`, []).then(validators => {\n    return (validators || []).map(v => ({ ...v, tokens: v.Tokens || v.tokens }))\n  }).then(validators => validators.sort(sortValidators))\n}\n\nexport async function getAtomPrice() {\n  const host = getNetworkConfig().market\n  const currency = getLocale() === 'zh' ? 'CNY' : 'USDT'\n  const params = [{ \"chainType\": \"COSMOS\", \"address\": \"uatom\", currency }]\n  return rpc(host, `market.getPrices`, params).then(prices => prices[0]).catch(warnning)\n}\n\nexport function getTxListByAddress(delegator: string, validator: string) {\n  const params = [{\n    address: delegator,\n    tags: {\n      action: ['delegate', 'undelegate'],\n      delegator,\n      validator,\n    }\n  }]\n  return rpc(getNetworkConfig().chainAPI, 'wallet.getMsgListByAddress', [params]).then(data => data || []).catch(warnning)\n}\n","import React, { Component } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { selectValidators } from '../../lib/redux/selectors'\nimport Home from '../home'\nimport Validators from '../validators'\nimport ValidatorDetail from '../validatorDetail'\nimport Delegate from '../delegate'\nimport UnDelegate from '../undelegate'\nimport Vote from '../vote'\nimport './index.scss'\nimport { updateValidators, updateAccount, updateDelegations, updatePool, updateValidatorRewards, updateAtomPrice } from 'lib/redux/actions'\nimport * as api from 'lib/api'\nimport * as sdk from 'lib/sdk'\nimport * as utils from 'lib/utils'\nimport { pubsub } from 'lib/event'\n\ninterface Props {\n  validators: any[]\n  updateValidators: (value: any) => any\n  updateDelegations: (value: any) => any\n  updateAccount: (value: any) => any\n  updatePool: (value: any) => any\n  updateValidatorRewards: (value: any) => any\n  updateAtomPrice: (value: any) => any\n}\n\nclass App extends Component<Props> {\n\n  componentWillMount() {\n    this.updateAsyncData()\n    pubsub.on('updateAsyncData', () => {\n      // refresh immediately\n      this.updateAsyncData()\n      // refresh after 30 seconds\n      setTimeout(this.updateAsyncData, 1000 * 30)\n    })\n  }\n\n  componentWillUnmount() {\n    pubsub.off('updateAsyncData')\n  }\n\n  updateAsyncData = () => {\n    const { updateAccount, updateDelegations, updateValidators, updatePool, updateValidatorRewards, updateAtomPrice } = this.props\n\n    sdk.getAccounts().then(accounts => {\n      const address = accounts[0]\n\n      updateAccount({ address })\n\n      api.getRewards(address).then(utils.getRewardBalance).then(b => {\n        updateAccount({ rewardBalance: b })\n      })\n\n      api.getUnbondingDelegations(address).then(utils.getUnbondingBalance).then(b => {\n        updateAccount({ refundingBalance: b })\n      })\n\n      api.getAccount(address).then(accountInfo => {\n        const balance = utils.getBalanceFromAccount(accountInfo)\n        updateAccount({ ...accountInfo, balance })\n      })\n\n      api.getDelegations(address).then(delegations => {\n        const delegateBalance = utils.getDeletationBalance(delegations)\n        updateDelegations(delegations)\n        updateAccount({ delegateBalance })\n\n        const validatorRewards = {}\n        const promises = delegations.map(d => {\n          return api.getMyRewardByValidator(address, d.validator_address).then(balance => {\n            validatorRewards[d.validator_address] = balance\n            console.log(validatorRewards)\n          })\n        })\n\n        Promise.all(promises).then(() => {\n          updateValidatorRewards(validatorRewards)\n        })\n      })\n    })\n\n    api.getStakePool().then(pool => {\n      console.log(pool)\n      updatePool(pool)\n    })\n\n    api.getValidators().then(updateValidators)\n    api.getAtomPrice().then(updateAtomPrice)\n  }\n\n  render() {\n    return <BrowserRouter basename=\"/cosmos\">\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/validators\" component={Validators} />\n        <Route path=\"/validator/:id\" component={ValidatorDetail} />\n        <Route path=\"/delegate/:id\" component={Delegate} />\n        <Route path=\"/undelegate/:id\" component={UnDelegate} />\n        <Route path=\"/vote\" component={Vote} />\n      </Switch>\n    </BrowserRouter>\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    validators: selectValidators(state),\n  }\n}\n\nconst mapDispatchToProps = {\n  updateAccount,\n  updateDelegations,\n  updateValidators,\n  updatePool,\n  updateValidatorRewards,\n  updateAtomPrice,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import * as types from './constant'\n\nexport const updateAccount = (account) => {\n  return {\n    type: types.UPDATE_ACCOUNT,\n    payload: {\n      account,\n    }\n  }\n}\n\nexport const updateValidators = (validators) => {\n  return {\n    type: types.UPDATE_VALIDATORS,\n    payload: {\n      validators,\n    }\n  }\n}\n\nexport const updateDelegations = (delegations) => {\n  return {\n    type: types.UPDATE_DELEGATIONS,\n    payload: {\n      delegations,\n    }\n  }\n}\n\nexport const updatePool = (pool) => {\n  return {\n    type: types.UPDATE_POOL,\n    payload: {\n      pool,\n    }\n  }\n}\n\nexport const updateValidatorRewards = (validatorRewards) => {\n  return {\n    type: types.UPDATE_VALIDATOR_REWARDS,\n    payload: {\n      validatorRewards,\n    }\n  }\n}\n\nexport const updateAtomPrice = (price) => {\n  return {\n    type: types.UPDATE_ATOM_PRICE,\n    payload: {\n      price,\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport * as serviceWorker from './serviceWorker'\nimport configureStore from './lib/redux/configureStore'\nimport Intl from './Intl'\nimport App from './pages/app'\nimport './index.scss'\n\nconst store = configureStore(undefined)\n\nReactDOM.render(\n  <Provider store={store}>\n    <Intl>\n      <App />\n    </Intl>\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}